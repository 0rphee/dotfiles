{
  "version": 3,
  "sources": ["../node_modules/isexe/windows.js", "../node_modules/isexe/mode.js", "../node_modules/isexe/index.js", "../node_modules/which/which.js", "../node_modules/path-key/index.js", "../node_modules/cross-spawn/lib/util/resolveCommand.js", "../node_modules/cross-spawn/lib/util/escape.js", "../node_modules/shebang-regex/index.js", "../node_modules/shebang-command/index.js", "../node_modules/cross-spawn/lib/util/readShebang.js", "../node_modules/cross-spawn/lib/parse.js", "../node_modules/cross-spawn/lib/enoent.js", "../node_modules/cross-spawn/index.js", "../node_modules/signal-exit/signals.js", "../node_modules/signal-exit/index.js", "../node_modules/get-stream/buffer-stream.js", "../node_modules/get-stream/index.js", "../node_modules/merge-stream/index.js", "../src/search.tsx", "../src/components/RootErrorBoundary.tsx", "../src/components/TroubleshootingGuide.tsx", "../src/constants/general.ts", "../src/components/searchVault/actions/CommonActions.tsx", "../src/context/session.tsx", "../src/components/UnlockForm.tsx", "../src/context/bitwarden.tsx", "../src/api/bitwarden.ts", "../node_modules/execa/index.js", "../node_modules/strip-final-newline/index.js", "../node_modules/npm-run-path/index.js", "../node_modules/npm-run-path/node_modules/path-key/index.js", "../node_modules/mimic-fn/index.js", "../node_modules/onetime/index.js", "../node_modules/human-signals/build/src/main.js", "../node_modules/human-signals/build/src/realtime.js", "../node_modules/human-signals/build/src/signals.js", "../node_modules/human-signals/build/src/core.js", "../node_modules/execa/lib/error.js", "../node_modules/execa/lib/stdio.js", "../node_modules/execa/lib/kill.js", "../node_modules/is-stream/index.js", "../node_modules/execa/lib/stream.js", "../node_modules/execa/lib/promise.js", "../node_modules/execa/lib/command.js", "../src/utils/passwords.ts", "../src/constants/passwords.ts", "../src/utils/preferences.ts", "../src/utils/objects.ts", "../src/utils/debug.ts", "../src/utils/hooks/useVaultMessages.ts", "../src/context/vault.tsx", "../src/components/searchVault/Item.tsx", "../src/components/searchVault/ItemActionPanel.tsx", "../src/components/ComponentReverser.tsx", "../src/components/searchVault/context/vaultItem.tsx", "../src/components/searchVault/actions/CopyPasswordAction.tsx", "../src/components/actions/ActionWithReprompt.tsx", "../src/utils/hooks/useReprompt.tsx", "../src/components/RepromptForm.tsx", "../src/components/searchVault/actions/PastePasswordAction.tsx", "../src/components/searchVault/actions/CopyTotpAction.tsx", "../src/components/searchVault/actions/ShowSecureNoteAction.tsx", "../src/utils/strings.ts", "../src/components/searchVault/actions/CopyUsernameAction.tsx", "../src/components/searchVault/actions/CopyTextFieldsActions.tsx", "../src/components/searchVault/actions/OpenUrlInBrowserAction.tsx", "../src/components/searchVault/actions/ShowCardDetailsAction.tsx", "../src/utils/cards.ts", "../src/utils/search.ts"],
  "sourcesContent": ["module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n", "var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n", "const isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nconst path = require('path')\nconst COLON = isWindows ? ';' : ':'\nconst isexe = require('isexe')\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, opt) => {\n  const colon = opt.colon || COLON\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\n    : (\n      [\n        // windows always checks the cwd first\n        ...(isWindows ? [process.cwd()] : []),\n        ...(opt.path || process.env.PATH ||\n          /* istanbul ignore next: very unusual */ '').split(colon),\n      ]\n    )\n  const pathExtExe = isWindows\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\n    : ''\n  const pathExt = isWindows ? pathExtExe.split(colon) : ['']\n\n  if (isWindows) {\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  return {\n    pathEnv,\n    pathExt,\n    pathExtExe,\n  }\n}\n\nconst which = (cmd, opt, cb) => {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n  if (!opt)\n    opt = {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  const step = i => new Promise((resolve, reject) => {\n    if (i === pathEnv.length)\n      return opt.all && found.length ? resolve(found)\n        : reject(getNotFoundError(cmd))\n\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    resolve(subStep(p, i, 0))\n  })\n\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\n    if (ii === pathExt.length)\n      return resolve(step(i + 1))\n    const ext = pathExt[ii]\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\n      if (!er && is) {\n        if (opt.all)\n          found.push(p + ext)\n        else\n          return resolve(p + ext)\n      }\n      return resolve(subStep(p, i, ii + 1))\n    })\n  })\n\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\n}\n\nconst whichSync = (cmd, opt) => {\n  opt = opt || {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (let i = 0; i < pathEnv.length; i ++) {\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    for (let j = 0; j < pathExt.length; j ++) {\n      const cur = p + pathExt[j]\n      try {\n        const is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n", "'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n", "'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst getPathKey = require('path-key');\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const env = parsed.options.env || process.env;\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n    // Worker threads do not have process.chdir()\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (shouldSwitchCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: env[getPathKey({ env })],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        if (shouldSwitchCwd) {\n            process.chdir(cwd);\n        }\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n", "'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n", "'use strict';\nmodule.exports = /^#!(.*)/;\n", "'use strict';\nconst shebangRegex = require('shebang-regex');\n\nmodule.exports = (string = '') => {\n\tconst match = string.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\n\tconst binary = path.split('/').pop();\n\n\tif (binary === 'env') {\n\t\treturn argument;\n\t}\n\n\treturn argument ? `${binary} ${argument}` : binary;\n};\n", "'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    const buffer = Buffer.alloc(size);\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n", "'use strict';\n\nconst path = require('path');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parsed : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n", "'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed, 'spawn');\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n", "'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n", "// This is not the set of all possible signals.\n//\n// It IS, however, the set of all signals that trigger\n// an exit on either Linux or BSD systems.  Linux is a\n// superset of the signal names supported on BSD, and\n// the unknown signals just fail to register, so we can\n// catch that easily enough.\n//\n// Don't bother with SIGKILL.  It's uncatchable, which\n// means that we can't fire any callbacks anyway.\n//\n// If a user does happen to register a handler on a non-\n// fatal signal like SIGWINCH or something, and then\n// exit, it'll end up firing `process.emit('exit')`, so\n// the handler will be fired anyway.\n//\n// SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n// artificially, inherently leave the process in a\n// state from which it is not safe to try and enter JS\n// listeners.\nmodule.exports = [\n  'SIGABRT',\n  'SIGALRM',\n  'SIGHUP',\n  'SIGINT',\n  'SIGTERM'\n]\n\nif (process.platform !== 'win32') {\n  module.exports.push(\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  module.exports.push(\n    'SIGIO',\n    'SIGPOLL',\n    'SIGPWR',\n    'SIGSTKFLT',\n    'SIGUNUSED'\n  )\n}\n", "// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\nvar process = global.process\n\nconst processOk = function (process) {\n  return process &&\n    typeof process === 'object' &&\n    typeof process.removeListener === 'function' &&\n    typeof process.emit === 'function' &&\n    typeof process.reallyExit === 'function' &&\n    typeof process.listeners === 'function' &&\n    typeof process.kill === 'function' &&\n    typeof process.pid === 'number' &&\n    typeof process.on === 'function'\n}\n\n// some kind of non-node environment, just no-op\n/* istanbul ignore if */\nif (!processOk(process)) {\n  module.exports = function () {\n    return function () {}\n  }\n} else {\n  var assert = require('assert')\n  var signals = require('./signals.js')\n  var isWin = /^win/i.test(process.platform)\n\n  var EE = require('events')\n  /* istanbul ignore if */\n  if (typeof EE !== 'function') {\n    EE = EE.EventEmitter\n  }\n\n  var emitter\n  if (process.__signal_exit_emitter__) {\n    emitter = process.__signal_exit_emitter__\n  } else {\n    emitter = process.__signal_exit_emitter__ = new EE()\n    emitter.count = 0\n    emitter.emitted = {}\n  }\n\n  // Because this emitter is a global, we have to check to see if a\n  // previous version of this library failed to enable infinite listeners.\n  // I know what you're about to say.  But literally everything about\n  // signal-exit is a compromise with evil.  Get used to it.\n  if (!emitter.infinite) {\n    emitter.setMaxListeners(Infinity)\n    emitter.infinite = true\n  }\n\n  module.exports = function (cb, opts) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return function () {}\n    }\n    assert.equal(typeof cb, 'function', 'a callback must be provided for exit handler')\n\n    if (loaded === false) {\n      load()\n    }\n\n    var ev = 'exit'\n    if (opts && opts.alwaysLast) {\n      ev = 'afterexit'\n    }\n\n    var remove = function () {\n      emitter.removeListener(ev, cb)\n      if (emitter.listeners('exit').length === 0 &&\n          emitter.listeners('afterexit').length === 0) {\n        unload()\n      }\n    }\n    emitter.on(ev, cb)\n\n    return remove\n  }\n\n  var unload = function unload () {\n    if (!loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = false\n\n    signals.forEach(function (sig) {\n      try {\n        process.removeListener(sig, sigListeners[sig])\n      } catch (er) {}\n    })\n    process.emit = originalProcessEmit\n    process.reallyExit = originalProcessReallyExit\n    emitter.count -= 1\n  }\n  module.exports.unload = unload\n\n  var emit = function emit (event, code, signal) {\n    /* istanbul ignore if */\n    if (emitter.emitted[event]) {\n      return\n    }\n    emitter.emitted[event] = true\n    emitter.emit(event, code, signal)\n  }\n\n  // { <signal>: <listener fn>, ... }\n  var sigListeners = {}\n  signals.forEach(function (sig) {\n    sigListeners[sig] = function listener () {\n      /* istanbul ignore if */\n      if (!processOk(global.process)) {\n        return\n      }\n      // If there are no other listeners, an exit is coming!\n      // Simplest way: remove us and then re-send the signal.\n      // We know that this will kill the process, so we can\n      // safely emit now.\n      var listeners = process.listeners(sig)\n      if (listeners.length === emitter.count) {\n        unload()\n        emit('exit', null, sig)\n        /* istanbul ignore next */\n        emit('afterexit', null, sig)\n        /* istanbul ignore next */\n        if (isWin && sig === 'SIGHUP') {\n          // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n          // so use a supported signal instead\n          sig = 'SIGINT'\n        }\n        /* istanbul ignore next */\n        process.kill(process.pid, sig)\n      }\n    }\n  })\n\n  module.exports.signals = function () {\n    return signals\n  }\n\n  var loaded = false\n\n  var load = function load () {\n    if (loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = true\n\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    emitter.count += 1\n\n    signals = signals.filter(function (sig) {\n      try {\n        process.on(sig, sigListeners[sig])\n        return true\n      } catch (er) {\n        return false\n      }\n    })\n\n    process.emit = processEmit\n    process.reallyExit = processReallyExit\n  }\n  module.exports.load = load\n\n  var originalProcessReallyExit = process.reallyExit\n  var processReallyExit = function processReallyExit (code) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return\n    }\n    process.exitCode = code || /* istanbul ignore next */ 0\n    emit('exit', process.exitCode, null)\n    /* istanbul ignore next */\n    emit('afterexit', process.exitCode, null)\n    /* istanbul ignore next */\n    originalProcessReallyExit.call(process, process.exitCode)\n  }\n\n  var originalProcessEmit = process.emit\n  var processEmit = function processEmit (ev, arg) {\n    if (ev === 'exit' && processOk(global.process)) {\n      /* istanbul ignore else */\n      if (arg !== undefined) {\n        process.exitCode = arg\n      }\n      var ret = originalProcessEmit.apply(this, arguments)\n      /* istanbul ignore next */\n      emit('exit', process.exitCode, null)\n      /* istanbul ignore next */\n      emit('afterexit', process.exitCode, null)\n      /* istanbul ignore next */\n      return ret\n    } else {\n      return originalProcessEmit.apply(this, arguments)\n    }\n  }\n}\n", "'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n", "'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst stream = require('stream');\nconst {promisify} = require('util');\nconst bufferStream = require('./buffer-stream');\n\nconst streamPipelinePromisified = promisify(stream.pipeline);\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\tthrow new Error('Expected a stream');\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\tconst stream = bufferStream(options);\n\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tawait streamPipelinePromisified(inputStream, stream);\n\t\t\t\tresolve();\n\t\t\t} catch (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t}\n\t\t})();\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n", "'use strict';\n\nconst { PassThrough } = require('stream');\n\nmodule.exports = function (/*streams...*/) {\n  var sources = []\n  var output  = new PassThrough({objectMode: true})\n\n  output.setMaxListeners(0)\n\n  output.add = add\n  output.isEmpty = isEmpty\n\n  output.on('unpipe', remove)\n\n  Array.prototype.slice.call(arguments).forEach(add)\n\n  return output\n\n  function add (source) {\n    if (Array.isArray(source)) {\n      source.forEach(add)\n      return this\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source))\n    source.once('error', output.emit.bind(output, 'error'))\n    source.pipe(output, {end: false})\n    return this\n  }\n\n  function isEmpty () {\n    return sources.length == 0;\n  }\n\n  function remove (source) {\n    sources = sources.filter(function (it) { return it !== source })\n    if (!sources.length && output.readable) { output.end() }\n  }\n}\n", "import { List, Icon, ActionPanel } from \"@raycast/api\";\nimport RootErrorBoundary from \"~/components/RootErrorBoundary\";\nimport SearchCommonActions from \"~/components/searchVault/actions/CommonActions\";\nimport VaultItem from \"~/components/searchVault/Item\";\nimport { BitwardenProvider } from \"~/context/bitwarden\";\nimport { SessionProvider } from \"~/context/session\";\nimport { useVault, VaultProvider } from \"~/context/vault\";\nimport { Folder, Item } from \"~/types/vault\";\n\nconst SearchVaultCommand = () => (\n  <RootErrorBoundary>\n    <BitwardenProvider>\n      <SessionProvider unlock>\n        <VaultProvider>\n          <SearchVaultComponent />\n        </VaultProvider>\n      </SessionProvider>\n    </BitwardenProvider>\n  </RootErrorBoundary>\n);\n\nfunction SearchVaultComponent() {\n  const { items, folders, isLoading, isEmpty } = useVault();\n\n  return (\n    <List isLoading={isLoading}>\n      {items.map((item) => (\n        <VaultItem key={item.id} item={item} folder={getItemFolder(folders, item)} />\n      ))}\n      {isLoading ? (\n        <List.EmptyView icon={Icon.ArrowClockwise} title=\"Loading...\" description=\"Please wait.\" />\n      ) : (\n        <List.EmptyView\n          icon={{ source: \"bitwarden-64.png\" }}\n          title={isEmpty ? \"Vault empty.\" : \"No matching items found.\"}\n          description={\n            isEmpty\n              ? \"Hit the sync button to sync your vault or try logging in again.\"\n              : \"Hit the sync button to sync your vault.\"\n          }\n          actions={\n            !isLoading && (\n              <ActionPanel>\n                <SearchCommonActions />\n              </ActionPanel>\n            )\n          }\n        />\n      )}\n    </List>\n  );\n}\n\nfunction getItemFolder(folderList: Folder[], item: Item) {\n  return folderList.find((folder) => folder.id === item.folderId);\n}\n\nexport default SearchVaultCommand;\n", "import { environment, showToast, Toast } from \"@raycast/api\";\nimport { Component, ErrorInfo, ReactNode } from \"react\";\nimport TroubleshootingGuide from \"~/components/TroubleshootingGuide\";\nimport { ERRORS } from \"~/constants/general\";\n\ntype Props = {\n  children?: ReactNode;\n};\n\ntype State = {\n  hasError: boolean;\n  error?: string;\n};\n\nexport default class RootErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    if (error.name in ERRORS) {\n      this.setState((state) => ({ ...state, hasError: true, error: error.message }));\n      showToast(Toast.Style.Failure, error.message);\n    } else {\n      if (environment.isDevelopment) {\n        this.setState((state) => ({ ...state, hasError: true, error: error.message }));\n      }\n      console.error(\"Error:\", error, errorInfo);\n    }\n  }\n\n  render() {\n    try {\n      if (this.state.hasError) return <TroubleshootingGuide errorInfo={this.state.error} />;\n      return this.props.children;\n    } catch {\n      return <TroubleshootingGuide />;\n    }\n  }\n}\n\nexport class CLINotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = ERRORS.CLINotFound;\n  }\n}\n", "import { ActionPanel, Action, Detail } from \"@raycast/api\";\n\nconst CODE_BACKTICKS = \"```\";\nconst BW_CLI_INSTALLATION_DOCS_URL = \"https://bitwarden.com/help/cli/#download-and-install\";\nconst BW_CLI_HOMEBREW_DOCS_URL = \"https://formulae.brew.sh/formula/bitwarden-cli\";\nconst GITHUB_CREATE_ISSUE_URL =\n  \"https://github.com/raycast/extensions/issues/new?assignees=&labels=extension%2Cbug&template=extension_bug_report.yml&title=%5BBitwarden%5D+...\";\n\nconst getContent = (errorInfo?: string) => `# \uD83D\uDEA8 Something went wrong\n${errorInfo ? `${CODE_BACKTICKS}\\n${errorInfo}\\n${CODE_BACKTICKS}` : \"\\n\"}\n## Troubleshooting Guide:\n\n1. The [Bitwarden CLI](${BW_CLI_INSTALLATION_DOCS_URL}) is correctly installed\n2. If you did not install the Bitwarden CLI [using Homebrew](${BW_CLI_HOMEBREW_DOCS_URL}), please check that the path of the installation matches the \\`Bitwarden CLI Installation Path\\` extension setting. \n    - \uD83D\uDCA1 Run the \\`which bw\\` command to check the CLI installation path.\n\nIf you are still experiencing issues, please [open an issue on GitHub](${GITHUB_CREATE_ISSUE_URL}).\n`;\n\nexport type TroubleshootingGuideProps = {\n  errorInfo?: string;\n};\n\nconst TroubleshootingGuide = (props: TroubleshootingGuideProps) => (\n  <Detail\n    markdown={getContent(props.errorInfo)}\n    actions={\n      <ActionPanel>\n        <Action.CopyToClipboard title=\"Copy Homebrew Installation Command\" content=\"brew install bitwarden-cli\" />\n        <Action.OpenInBrowser title=\"Open Installation Guide\" url={BW_CLI_INSTALLATION_DOCS_URL} />\n      </ActionPanel>\n    }\n  />\n);\n\nexport default TroubleshootingGuide;\n", "/* Put constants that you feel like they still don't deserve a file of their own here */\n\nexport const DEFAULT_SERVER_URL = \"https://bitwarden.com\";\n\nexport const LOCAL_STORAGE_KEY = {\n  PASSWORD_OPTIONS: \"bw-generate-password-options\",\n  PASSWORD_ONE_TIME_WARNING: \"bw-generate-password-warning-accepted\",\n  SESSION_TOKEN: \"sessionToken\",\n  REPROMPT_HASH: \"sessionRepromptHash\",\n  SERVER_URL: \"cliServer\",\n  LAST_ACTIVITY_TIME: \"lastActivityTime\",\n  VAULT_LOCK_REASON: \"vaultLockReason\",\n};\n\nexport const ERRORS = {\n  CLINotFound: \"CLINotFound\",\n} as const;\n", "import { Action, Color, Icon } from \"@raycast/api\";\nimport { useSession } from \"~/context/session\";\nimport { useVault } from \"~/context/vault\";\n\nfunction SearchCommonActions() {\n  const vault = useVault();\n  const session = useSession();\n\n  const handleLockVault = () => session.lock(\"Manually locked by the user\");\n\n  return (\n    <>\n      <Action\n        title=\"Sync Vault\"\n        shortcut={{ modifiers: [\"cmd\"], key: \"r\" }}\n        icon={Icon.ArrowClockwise}\n        onAction={vault.syncItems}\n      />\n      <Action\n        icon={{ source: \"sf_symbols_lock.svg\", tintColor: Color.PrimaryText }} // Does not immediately follow theme\n        title=\"Lock Vault\"\n        shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"l\" }}\n        onAction={handleLockVault}\n      />\n      <Action title=\"Logout\" icon={Icon.XMarkCircle} onAction={session.logout} />\n    </>\n  );\n}\nexport default SearchCommonActions;\n", "import { Detail, getPreferenceValues, LocalStorage, showToast, Toast } from \"@raycast/api\";\nimport { createContext, PropsWithChildren, useContext, useEffect, useMemo, useReducer } from \"react\";\nimport { Bitwarden } from \"~/api/bitwarden\";\nimport UnlockForm from \"~/components/UnlockForm\";\nimport { LOCAL_STORAGE_KEY } from \"~/constants/general\";\nimport { useBitwarden } from \"~/context/bitwarden\";\nimport { VaultStatus } from \"~/types/general\";\nimport { Preferences } from \"~/types/preferences\";\nimport { SessionState } from \"~/types/session\";\nimport { hashMasterPasswordForReprompting } from \"~/utils/passwords\";\n\nexport type Session = {\n  active: boolean;\n  token: string | undefined;\n  isLoading: boolean;\n  isLocked: boolean;\n  isAuthenticated: boolean;\n  confirmMasterPassword: (password: string) => Promise<boolean>;\n  lock: (reason?: string) => Promise<void>;\n  logout: () => Promise<void>;\n};\n\nexport const SessionContext = createContext<Session | null>(null);\n\nconst initialState: SessionState = {\n  token: undefined,\n  isLoading: true,\n  isLocked: false,\n  isAuthenticated: false,\n  passwordHash: undefined,\n  lastActivityTime: undefined,\n};\n\nexport type SessionProviderProps = PropsWithChildren<{\n  unlock?: boolean;\n}>;\n\nclass ShouldLockVaultError extends Error {\n  constructor(message?: string) {\n    super(message);\n    this.name = \"ShouldLockVaultError\";\n  }\n}\n\n/**\n * Component which provides a session via the {@link useSession} hook.\n * @param props.unlock If true, an unlock form will be displayed if the vault is locked or unauthenticated.\n */\nexport function SessionProvider(props: SessionProviderProps) {\n  const { unlock, children } = props;\n  const bitwarden = useBitwarden();\n  const [state, setState] = useReducer(\n    (previous: SessionState, next: Partial<SessionState>) => ({ ...previous, ...next }),\n    initialState\n  );\n\n  const active = !state.isLoading && state.isAuthenticated && !state.isLocked;\n\n  useEffect(() => {\n    // Load the saved session token from LocalStorage.\n    loadSavedSession();\n  }, [bitwarden]);\n\n  async function loadSavedSession() {\n    try {\n      const vaultTimeoutMs = +getPreferenceValues<Preferences>().repromptIgnoreDuration;\n      const [token, passwordHash, lastActivityTimeString] = await Promise.all([\n        LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.SESSION_TOKEN),\n        LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.REPROMPT_HASH),\n        LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.LAST_ACTIVITY_TIME),\n      ]);\n\n      let lastActivityTime: Date | undefined;\n      if (!token || !passwordHash) throw new ShouldLockVaultError();\n\n      if (lastActivityTimeString && vaultTimeoutMs >= 0) {\n        const lockReason = \"Vault timed out due to inactivity\";\n        if (vaultTimeoutMs === 0) throw new ShouldLockVaultError(lockReason);\n\n        lastActivityTime = new Date(lastActivityTimeString);\n        const timeElapseSinceLastPasswordEnter = lastActivityTime ? Date.now() - lastActivityTime.getTime() : 0;\n        if (lastActivityTime != null && timeElapseSinceLastPasswordEnter >= vaultTimeoutMs) {\n          throw new ShouldLockVaultError(lockReason);\n        }\n      }\n\n      await update({ token, passwordHash, lastActivityTime });\n    } catch (error) {\n      const reason = error instanceof ShouldLockVaultError ? error.message : undefined;\n      const { status } = await bitwarden.status();\n      await deleteToken();\n      if (status !== \"unauthenticated\") {\n        await bitwarden.lock(reason);\n      }\n    }\n  }\n\n  /**\n   * Determines the current status of the session.\n   *\n   * This is done by trying to get the list of items and seeing how the command responds to that.\n   * Note: Cannot use `bw status` due to a bug.\n   *\n   * @see https://github.com/bitwarden/clients/issues/2729\n   * @see https://github.com/raycast/extensions/pull/3413#discussion_r1014624155\n   */\n  async function getSessionStatus(api: Bitwarden, token: string | undefined): Promise<VaultStatus> {\n    if (token == null) return \"unauthenticated\";\n\n    try {\n      await api.listItems(token ?? \"\");\n      return \"unlocked\";\n    } catch {\n      // Failed. Probably locked.\n      return \"locked\";\n    }\n  }\n\n  /**\n   * Refresh the state of the session provider.\n   * This updates the component state.\n   *\n   * @param newState The state to update.\n   */\n  async function update(newState: Partial<SessionState>): Promise<void> {\n    let updatedState = { ...newState };\n    if (\"token\" in newState) {\n      const status = await getSessionStatus(bitwarden, newState.token);\n\n      updatedState = {\n        ...newState,\n        isLoading: false,\n        isLocked: status === \"locked\" || status === \"unauthenticated\",\n        isAuthenticated: status !== \"unauthenticated\",\n      };\n    }\n\n    setState(updatedState);\n  }\n\n  async function handleUnlock(token: string, passwordHash: string) {\n    await Promise.all([\n      LocalStorage.setItem(LOCAL_STORAGE_KEY.SESSION_TOKEN, token),\n      LocalStorage.setItem(LOCAL_STORAGE_KEY.REPROMPT_HASH, passwordHash),\n    ]);\n    await update({ token, passwordHash });\n  }\n\n  async function deleteToken() {\n    await Promise.all([\n      LocalStorage.removeItem(LOCAL_STORAGE_KEY.SESSION_TOKEN),\n      LocalStorage.removeItem(LOCAL_STORAGE_KEY.REPROMPT_HASH),\n    ]);\n    await update({ token: undefined, passwordHash: undefined });\n  }\n\n  async function lockVault() {\n    const toast = await showToast({ title: \"Locking Vault...\", style: Toast.Style.Animated });\n    await bitwarden.lock(\"Manually locked by the user\");\n    await deleteToken();\n    await toast.hide();\n  }\n\n  async function logoutVault() {\n    const toast = await showToast({ title: \"Logging Out...\", style: Toast.Style.Animated });\n    await bitwarden.logout();\n    await deleteToken();\n    await toast.hide();\n  }\n\n  async function confirmMasterPassword(password: string): Promise<boolean> {\n    const enteredPasswordHash = await hashMasterPasswordForReprompting(password);\n    return enteredPasswordHash === state.passwordHash;\n  }\n\n  const value: Session = useMemo(\n    () => ({\n      token: state.token,\n      isLoading: state.isLoading,\n      isAuthenticated: state.isAuthenticated,\n      isLocked: state.isLocked,\n      active,\n      lock: lockVault,\n      logout: logoutVault,\n      confirmMasterPassword,\n    }),\n    [state, active, lockVault, logoutVault, confirmMasterPassword]\n  );\n\n  if (state.isLoading) return <Detail isLoading />;\n\n  const needsUnlockForm = state.isLocked || !state.isAuthenticated;\n\n  return (\n    <SessionContext.Provider value={value}>\n      {needsUnlockForm && unlock ? <UnlockForm onUnlock={handleUnlock} /> : state.token ? children : null}\n    </SessionContext.Provider>\n  );\n}\n\nexport function useSession(): Session {\n  const session = useContext(SessionContext);\n  if (session == null) {\n    throw new Error(\"useSession must be used within a SessionProvider\");\n  }\n\n  return session;\n}\n\nexport default SessionProvider;\n", "import { Action, ActionPanel, Clipboard, Form, Icon, showToast, Toast } from \"@raycast/api\";\nimport { useRef, useState } from \"react\";\nimport { useBitwarden } from \"~/context/bitwarden\";\nimport { treatError } from \"~/utils/debug\";\nimport useVaultMessages from \"~/utils/hooks/useVaultMessages\";\nimport { hashMasterPasswordForReprompting } from \"~/utils/passwords\";\n\nexport type UnlockFormProps = {\n  onUnlock: (token: string, passwordHash: string) => void;\n};\n\n/** Form for unlocking or logging in to the Bitwarden vault. */\nconst UnlockForm = (props: UnlockFormProps) => {\n  const { onUnlock } = props;\n  const bitwarden = useBitwarden();\n  const [isLoading, setLoading] = useState(false);\n  const { userMessage, serverMessage, shouldShowServer } = useVaultMessages();\n  const lockReasonRef = useRef(bitwarden.lockReason).current;\n  const [unlockError, setUnlockError] = useState<string | undefined>(undefined);\n\n  async function onSubmit({ password }: { password: string }) {\n    if (password.length === 0) return;\n    const toast = await showToast(Toast.Style.Animated, \"Unlocking Vault...\", \"Please wait\");\n    try {\n      setLoading(true);\n      setUnlockError(undefined);\n\n      const state = await bitwarden.status();\n      if (state.status == \"unauthenticated\") {\n        try {\n          await bitwarden.login();\n        } catch (error) {\n          const { displayableError, treatedError } = getUsefulError(error, password);\n          await showToast(\n            Toast.Style.Failure,\n            \"Failed to log in\",\n            displayableError ?? `Please check your ${shouldShowServer ? \"Server URL, \" : \"\"}API Key and Secret.`\n          );\n          setUnlockError(treatedError);\n          return;\n        }\n      }\n\n      const sessionToken = await bitwarden.unlock(password);\n      const passwordHash = await hashMasterPasswordForReprompting(password);\n      onUnlock(sessionToken, passwordHash);\n      await toast.hide();\n    } catch (error) {\n      const { displayableError, treatedError } = getUsefulError(error, password);\n      await showToast(\n        Toast.Style.Failure,\n        \"Failed to unlock vault\",\n        displayableError ?? \"Please check your credentials\"\n      );\n      setUnlockError(treatedError);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const copyUnlockError = async () => {\n    if (!unlockError) return;\n    await Clipboard.copy(unlockError);\n    await showToast(Toast.Style.Success, \"Error copied to clipboard\");\n  };\n\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          {!isLoading && (\n            <Action.SubmitForm\n              icon={Icon.LockUnlocked}\n              title=\"Unlock\"\n              onSubmit={onSubmit}\n              shortcut={{ key: \"enter\", modifiers: [] }}\n            />\n          )}\n          {!!unlockError && (\n            <Action\n              onAction={copyUnlockError}\n              title=\"Copy Last Error\"\n              icon={Icon.Bug}\n              style={Action.Style.Destructive}\n            />\n          )}\n        </ActionPanel>\n      }\n    >\n      {shouldShowServer && <Form.Description title=\"Server URL\" text={serverMessage} />}\n      <Form.Description title=\"Vault Status\" text={userMessage} />\n      {lockReasonRef && <Form.Description title=\"Reason\" text={lockReasonRef} />}\n      <Form.PasswordField autoFocus id=\"password\" title=\"Master Password\" />\n    </Form>\n  );\n};\n\nfunction getUsefulError(error: unknown, password: string) {\n  const treatedError = treatError(error, { omitSensitiveValue: password });\n  let displayableError: string | undefined;\n  if (/Invalid master password/i.test(treatedError)) {\n    displayableError = \"Invalid master password\";\n  } else if (/Invalid API Key/i.test(treatedError)) {\n    displayableError = \"Invalid Client ID or Secret\";\n  }\n  return { displayableError, treatedError };\n}\n\nexport default UnlockForm;\n", "import { Detail } from \"@raycast/api\";\nimport { createContext, PropsWithChildren, useContext, useEffect, useState } from \"react\";\nimport { Bitwarden } from \"~/api/bitwarden\";\n\nconst BitwardenContext = createContext<Bitwarden | null>(null);\n\nexport type BitwardenProviderProps = PropsWithChildren;\n\nexport const BitwardenProvider = (props: BitwardenProviderProps) => {\n  const { children } = props;\n  const [bitwarden, setBitwarden] = useState<Bitwarden>();\n\n  useEffect(() => {\n    new Bitwarden().initialize().then(setBitwarden);\n  }, []);\n\n  if (!bitwarden) return <Detail isLoading />;\n\n  return <BitwardenContext.Provider value={bitwarden}>{children}</BitwardenContext.Provider>;\n};\n\nexport const useBitwarden = () => {\n  const session = useContext(BitwardenContext);\n  if (session == null) {\n    throw new Error(\"useBitwarden must be used within a BitwardenProvider\");\n  }\n\n  return session;\n};\n\nexport default BitwardenContext;\n", "import { environment, getPreferenceValues, LocalStorage, showToast, Toast } from \"@raycast/api\";\nimport { execa, ExecaChildProcess } from \"execa\";\nimport { existsSync } from \"fs\";\nimport { dirname } from \"path/posix\";\nimport { CLINotFoundError } from \"~/components/RootErrorBoundary\";\nimport { LOCAL_STORAGE_KEY, DEFAULT_SERVER_URL } from \"~/constants/general\";\nimport { VaultState } from \"~/types/general\";\nimport { Preferences } from \"~/types/preferences\";\nimport { PasswordGeneratorOptions } from \"~/types/passwords\";\nimport { Item } from \"~/types/vault\";\nimport { getPasswordGeneratingArgs } from \"~/utils/passwords\";\nimport { getServerUrlPreference } from \"~/utils/preferences\";\n\nexport class Bitwarden {\n  private env: Record<string, string>;\n  private initPromise: Promise<void>;\n  lockReason: string | undefined;\n  cliPath: string;\n\n  constructor() {\n    const { cliPath, clientId, clientSecret, serverCertsPath } = getPreferenceValues<Preferences>();\n    const serverUrl = getServerUrlPreference();\n    this.cliPath = cliPath || (process.arch == \"arm64\" ? \"/opt/homebrew/bin/bw\" : \"/usr/local/bin/bw\");\n\n    if (!existsSync(this.cliPath)) {\n      throw new CLINotFoundError(`Bitwarden CLI not found at ${this.cliPath}`);\n    }\n\n    this.env = {\n      BITWARDENCLI_APPDATA_DIR: environment.supportPath,\n      BW_CLIENTSECRET: clientSecret.trim(),\n      BW_CLIENTID: clientId.trim(),\n      PATH: dirname(process.execPath),\n      ...(serverUrl && serverCertsPath ? { NODE_EXTRA_CA_CERTS: serverCertsPath } : {}),\n    };\n\n    this.initPromise = (async () => {\n      await this.checkServerUrl(serverUrl);\n      this.lockReason = await LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.VAULT_LOCK_REASON);\n    })();\n  }\n\n  async initialize() {\n    await this.initPromise;\n    return this;\n  }\n\n  async checkServerUrl(serverUrl: string): Promise<void> {\n    // Check the CLI has been configured to use the preference Url\n    const cliServer = (await LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.SERVER_URL)) || \"\";\n    if (cliServer === serverUrl) return;\n\n    // Update the server Url\n    const toast = await showToast({\n      style: Toast.Style.Animated,\n      title: \"Switching server...\",\n      message: \"Bitwarden server preference changed\",\n    });\n    try {\n      try {\n        await this.logout();\n      } catch {\n        // It doesn't matter if we weren't logged in.\n      }\n      // If URL is empty, set it to the default\n      await this.exec([\"config\", \"server\", serverUrl || DEFAULT_SERVER_URL]);\n      await LocalStorage.setItem(LOCAL_STORAGE_KEY.SERVER_URL, serverUrl);\n\n      toast.style = Toast.Style.Success;\n      toast.title = \"Success\";\n      toast.message = \"Bitwarden server changed\";\n    } catch (error) {\n      toast.style = Toast.Style.Failure;\n      toast.title = \"Failed to switch server\";\n      if (error instanceof Error) {\n        toast.message = error.message;\n      } else {\n        toast.message = \"Unknown error occurred\";\n      }\n    }\n  }\n\n  private async setLockReason(reason: string) {\n    this.lockReason = reason;\n    await LocalStorage.setItem(LOCAL_STORAGE_KEY.VAULT_LOCK_REASON, reason);\n  }\n\n  private async clearLockReason(): Promise<void> {\n    if (this.lockReason) {\n      await LocalStorage.removeItem(LOCAL_STORAGE_KEY.VAULT_LOCK_REASON);\n      this.lockReason = undefined;\n    }\n  }\n\n  private async exec(args: string[], options?: ExecProps): Promise<ExecaChildProcess> {\n    const { abortController, input = \"\", skipLastActivityUpdate = false } = options ?? {};\n    const result = await execa(this.cliPath, args, { env: this.env, input, signal: abortController?.signal });\n    if (!skipLastActivityUpdate) {\n      await LocalStorage.setItem(LOCAL_STORAGE_KEY.LAST_ACTIVITY_TIME, new Date().toISOString());\n    }\n    return result;\n  }\n\n  async sync(sessionToken: string): Promise<void> {\n    await this.exec([\"sync\", \"--session\", sessionToken]);\n  }\n\n  async login(): Promise<void> {\n    await this.exec([\"login\", \"--apikey\"]);\n    await this.clearLockReason();\n  }\n\n  async logout(): Promise<void> {\n    await this.exec([\"logout\"]);\n  }\n\n  async listItems(sessionToken: string): Promise<Item[]> {\n    const { stdout } = await this.exec([\"list\", \"items\", \"--session\", sessionToken]);\n    const items = JSON.parse<Item[]>(stdout);\n    // Filter out items without a name property (they are not displayed in the bitwarden app)\n    return items.filter((item: Item) => !!item.name);\n  }\n\n  async listFolders(sessionToken: string): Promise<Item[]> {\n    const { stdout } = await this.exec([\"list\", \"folders\", \"--session\", sessionToken]);\n    const folders = JSON.parse<Item[]>(stdout);\n    return folders;\n  }\n\n  async getTotp(id: string, sessionToken: string): Promise<string> {\n    // this could return something like \"Not found.\" but checks for totp code are done before calling this function\n    const { stdout } = await this.exec([\"get\", \"totp\", \"--session\", sessionToken, id]);\n    return stdout;\n  }\n\n  async unlock(password: string): Promise<string> {\n    const { stdout: sessionToken } = await this.exec([\"unlock\", password, \"--raw\"]);\n    await this.clearLockReason();\n    return sessionToken;\n  }\n\n  async lock(reason?: string): Promise<void> {\n    if (reason) this.setLockReason(reason);\n    await this.exec([\"lock\"]);\n  }\n\n  async status(sessionToken?: string): Promise<VaultState> {\n    const { stdout } = await this.exec(sessionToken == null ? [\"status\"] : [\"status\", \"--session\", sessionToken]);\n    return JSON.parse(stdout);\n  }\n\n  async generatePassword(options?: PasswordGeneratorOptions, abortController?: AbortController): Promise<string> {\n    const args = options ? getPasswordGeneratingArgs(options) : [];\n    const { stdout } = await this.exec([\"generate\", ...args], { abortController });\n    return stdout;\n  }\n}\n\ntype ExecProps = {\n  abortController?: AbortController;\n  skipLastActivityUpdate?: boolean;\n  input?: string;\n};\n", "import {Buffer} from 'node:buffer';\nimport path from 'node:path';\nimport childProcess from 'node:child_process';\nimport process from 'node:process';\nimport crossSpawn from 'cross-spawn';\nimport stripFinalNewline from 'strip-final-newline';\nimport {npmRunPathEnv} from 'npm-run-path';\nimport onetime from 'onetime';\nimport {makeError} from './lib/error.js';\nimport {normalizeStdio, normalizeStdioNode} from './lib/stdio.js';\nimport {spawnedKill, spawnedCancel, setupTimeout, validateTimeout, setExitHandler} from './lib/kill.js';\nimport {handleInput, getSpawnedResult, makeAllStream, validateInputSync} from './lib/stream.js';\nimport {mergePromise, getSpawnedPromise} from './lib/promise.js';\nimport {joinCommand, parseCommand, getEscapedCommand} from './lib/command.js';\n\nconst DEFAULT_MAX_BUFFER = 1000 * 1000 * 100;\n\nconst getEnv = ({env: envOption, extendEnv, preferLocal, localDir, execPath}) => {\n\tconst env = extendEnv ? {...process.env, ...envOption} : envOption;\n\n\tif (preferLocal) {\n\t\treturn npmRunPathEnv({env, cwd: localDir, execPath});\n\t}\n\n\treturn env;\n};\n\nconst handleArguments = (file, args, options = {}) => {\n\tconst parsed = crossSpawn._parse(file, args, options);\n\tfile = parsed.command;\n\targs = parsed.args;\n\toptions = parsed.options;\n\n\toptions = {\n\t\tmaxBuffer: DEFAULT_MAX_BUFFER,\n\t\tbuffer: true,\n\t\tstripFinalNewline: true,\n\t\textendEnv: true,\n\t\tpreferLocal: false,\n\t\tlocalDir: options.cwd || process.cwd(),\n\t\texecPath: process.execPath,\n\t\tencoding: 'utf8',\n\t\treject: true,\n\t\tcleanup: true,\n\t\tall: false,\n\t\twindowsHide: true,\n\t\t...options,\n\t};\n\n\toptions.env = getEnv(options);\n\n\toptions.stdio = normalizeStdio(options);\n\n\tif (process.platform === 'win32' && path.basename(file, '.exe') === 'cmd') {\n\t\t// #116\n\t\targs.unshift('/q');\n\t}\n\n\treturn {file, args, options, parsed};\n};\n\nconst handleOutput = (options, value, error) => {\n\tif (typeof value !== 'string' && !Buffer.isBuffer(value)) {\n\t\t// When `execaSync()` errors, we normalize it to '' to mimic `execa()`\n\t\treturn error === undefined ? undefined : '';\n\t}\n\n\tif (options.stripFinalNewline) {\n\t\treturn stripFinalNewline(value);\n\t}\n\n\treturn value;\n};\n\nexport function execa(file, args, options) {\n\tconst parsed = handleArguments(file, args, options);\n\tconst command = joinCommand(file, args);\n\tconst escapedCommand = getEscapedCommand(file, args);\n\n\tvalidateTimeout(parsed.options);\n\n\tlet spawned;\n\ttry {\n\t\tspawned = childProcess.spawn(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\t// Ensure the returned error is always both a promise and a child process\n\t\tconst dummySpawned = new childProcess.ChildProcess();\n\t\tconst errorPromise = Promise.reject(makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false,\n\t\t}));\n\t\treturn mergePromise(dummySpawned, errorPromise);\n\t}\n\n\tconst spawnedPromise = getSpawnedPromise(spawned);\n\tconst timedPromise = setupTimeout(spawned, parsed.options, spawnedPromise);\n\tconst processDone = setExitHandler(spawned, parsed.options, timedPromise);\n\n\tconst context = {isCanceled: false};\n\n\tspawned.kill = spawnedKill.bind(null, spawned.kill.bind(spawned));\n\tspawned.cancel = spawnedCancel.bind(null, spawned, context);\n\n\tconst handlePromise = async () => {\n\t\tconst [{error, exitCode, signal, timedOut}, stdoutResult, stderrResult, allResult] = await getSpawnedResult(spawned, parsed.options, processDone);\n\t\tconst stdout = handleOutput(parsed.options, stdoutResult);\n\t\tconst stderr = handleOutput(parsed.options, stderrResult);\n\t\tconst all = handleOutput(parsed.options, allResult);\n\n\t\tif (error || exitCode !== 0 || signal !== null) {\n\t\t\tconst returnedError = makeError({\n\t\t\t\terror,\n\t\t\t\texitCode,\n\t\t\t\tsignal,\n\t\t\t\tstdout,\n\t\t\t\tstderr,\n\t\t\t\tall,\n\t\t\t\tcommand,\n\t\t\t\tescapedCommand,\n\t\t\t\tparsed,\n\t\t\t\ttimedOut,\n\t\t\t\tisCanceled: context.isCanceled || (parsed.options.signal ? parsed.options.signal.aborted : false),\n\t\t\t\tkilled: spawned.killed,\n\t\t\t});\n\n\t\t\tif (!parsed.options.reject) {\n\t\t\t\treturn returnedError;\n\t\t\t}\n\n\t\t\tthrow returnedError;\n\t\t}\n\n\t\treturn {\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\texitCode: 0,\n\t\t\tstdout,\n\t\t\tstderr,\n\t\t\tall,\n\t\t\tfailed: false,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false,\n\t\t};\n\t};\n\n\tconst handlePromiseOnce = onetime(handlePromise);\n\n\thandleInput(spawned, parsed.options.input);\n\n\tspawned.all = makeAllStream(spawned, parsed.options);\n\n\treturn mergePromise(spawned, handlePromiseOnce);\n}\n\nexport function execaSync(file, args, options) {\n\tconst parsed = handleArguments(file, args, options);\n\tconst command = joinCommand(file, args);\n\tconst escapedCommand = getEscapedCommand(file, args);\n\n\tvalidateInputSync(parsed.options);\n\n\tlet result;\n\ttry {\n\t\tresult = childProcess.spawnSync(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\tthrow makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false,\n\t\t});\n\t}\n\n\tconst stdout = handleOutput(parsed.options, result.stdout, result.error);\n\tconst stderr = handleOutput(parsed.options, result.stderr, result.error);\n\n\tif (result.error || result.status !== 0 || result.signal !== null) {\n\t\tconst error = makeError({\n\t\t\tstdout,\n\t\t\tstderr,\n\t\t\terror: result.error,\n\t\t\tsignal: result.signal,\n\t\t\texitCode: result.status,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: result.error && result.error.code === 'ETIMEDOUT',\n\t\t\tisCanceled: false,\n\t\t\tkilled: result.signal !== null,\n\t\t});\n\n\t\tif (!parsed.options.reject) {\n\t\t\treturn error;\n\t\t}\n\n\t\tthrow error;\n\t}\n\n\treturn {\n\t\tcommand,\n\t\tescapedCommand,\n\t\texitCode: 0,\n\t\tstdout,\n\t\tstderr,\n\t\tfailed: false,\n\t\ttimedOut: false,\n\t\tisCanceled: false,\n\t\tkilled: false,\n\t};\n}\n\nexport function execaCommand(command, options) {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execa(file, args, options);\n}\n\nexport function execaCommandSync(command, options) {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execaSync(file, args, options);\n}\n\nexport function execaNode(scriptPath, args, options = {}) {\n\tif (args && !Array.isArray(args) && typeof args === 'object') {\n\t\toptions = args;\n\t\targs = [];\n\t}\n\n\tconst stdio = normalizeStdioNode(options);\n\tconst defaultExecArgv = process.execArgv.filter(arg => !arg.startsWith('--inspect'));\n\n\tconst {\n\t\tnodePath = process.execPath,\n\t\tnodeOptions = defaultExecArgv,\n\t} = options;\n\n\treturn execa(\n\t\tnodePath,\n\t\t[\n\t\t\t...nodeOptions,\n\t\t\tscriptPath,\n\t\t\t...(Array.isArray(args) ? args : []),\n\t\t],\n\t\t{\n\t\t\t...options,\n\t\t\tstdin: undefined,\n\t\t\tstdout: undefined,\n\t\t\tstderr: undefined,\n\t\t\tstdio,\n\t\t\tshell: false,\n\t\t},\n\t);\n}\n", "export default function stripFinalNewline(input) {\n\tconst LF = typeof input === 'string' ? '\\n' : '\\n'.charCodeAt();\n\tconst CR = typeof input === 'string' ? '\\r' : '\\r'.charCodeAt();\n\n\tif (input[input.length - 1] === LF) {\n\t\tinput = input.slice(0, -1);\n\t}\n\n\tif (input[input.length - 1] === CR) {\n\t\tinput = input.slice(0, -1);\n\t}\n\n\treturn input;\n}\n", "import process from 'node:process';\nimport path from 'node:path';\nimport url from 'node:url';\nimport pathKey from 'path-key';\n\nexport function npmRunPath(options = {}) {\n\tconst {\n\t\tcwd = process.cwd(),\n\t\tpath: path_ = process.env[pathKey()],\n\t\texecPath = process.execPath,\n\t} = options;\n\n\tlet previous;\n\tconst cwdString = cwd instanceof URL ? url.fileURLToPath(cwd) : cwd;\n\tlet cwdPath = path.resolve(cwdString);\n\tconst result = [];\n\n\twhile (previous !== cwdPath) {\n\t\tresult.push(path.join(cwdPath, 'node_modules/.bin'));\n\t\tprevious = cwdPath;\n\t\tcwdPath = path.resolve(cwdPath, '..');\n\t}\n\n\t// Ensure the running `node` binary is used.\n\tresult.push(path.resolve(cwdString, execPath, '..'));\n\n\treturn [...result, path_].join(path.delimiter);\n}\n\nexport function npmRunPathEnv({env = process.env, ...options} = {}) {\n\tenv = {...env};\n\n\tconst path = pathKey({env});\n\toptions.path = env[path];\n\tenv[path] = npmRunPath(options);\n\n\treturn env;\n}\n", "export default function pathKey(options = {}) {\n\tconst {\n\t\tenv = process.env,\n\t\tplatform = process.platform\n\t} = options;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(env).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n}\n", "const copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n// - one its descriptors is changed\n// - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable &&\n\t\ttoDescriptor.enumerable === fromDescriptor.enumerable &&\n\t\ttoDescriptor.configurable === fromDescriptor.configurable &&\n\t\t(toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tObject.defineProperty(to, 'toString', {...toStringDescriptor, value: newToString});\n};\n\nexport default function mimicFunction(to, from, {ignoreNonConfigurable = false} = {}) {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n}\n", "import mimicFunction from 'mimic-fn';\n\nconst calledFunctions = new WeakMap();\n\nconst onetime = (function_, options = {}) => {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\tlet returnValue;\n\tlet callCount = 0;\n\tconst functionName = function_.displayName || function_.name || '<anonymous>';\n\n\tconst onetime = function (...arguments_) {\n\t\tcalledFunctions.set(onetime, ++callCount);\n\n\t\tif (callCount === 1) {\n\t\t\treturnValue = function_.apply(this, arguments_);\n\t\t\tfunction_ = null;\n\t\t} else if (options.throw === true) {\n\t\t\tthrow new Error(`Function \\`${functionName}\\` can only be called once`);\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tmimicFunction(onetime, function_);\n\tcalledFunctions.set(onetime, callCount);\n\n\treturn onetime;\n};\n\nonetime.callCount = function_ => {\n\tif (!calledFunctions.has(function_)) {\n\t\tthrow new Error(`The given function \\`${function_.name}\\` is not wrapped by the \\`onetime\\` package`);\n\t}\n\n\treturn calledFunctions.get(function_);\n};\n\nexport default onetime;\n", "import{constants}from\"node:os\";\n\nimport{SIGRTMAX}from\"./realtime.js\";\nimport{getSignals}from\"./signals.js\";\n\n\n\nconst getSignalsByName=function(){\nconst signals=getSignals();\nreturn Object.fromEntries(signals.map(getSignalByName));\n};\n\nconst getSignalByName=function({\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard})\n{\nreturn[\nname,\n{name,number,description,supported,action,forced,standard}];\n\n};\n\nexport const signalsByName=getSignalsByName();\n\n\n\n\nconst getSignalsByNumber=function(){\nconst signals=getSignals();\nconst length=SIGRTMAX+1;\nconst signalsA=Array.from({length},(value,number)=>\ngetSignalByNumber(number,signals));\n\nreturn Object.assign({},...signalsA);\n};\n\nconst getSignalByNumber=function(number,signals){\nconst signal=findSignalByNumber(number,signals);\n\nif(signal===undefined){\nreturn{};\n}\n\nconst{name,description,supported,action,forced,standard}=signal;\nreturn{\n[number]:{\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard}};\n\n\n};\n\n\n\nconst findSignalByNumber=function(number,signals){\nconst signal=signals.find(({name})=>constants.signals[name]===number);\n\nif(signal!==undefined){\nreturn signal;\n}\n\nreturn signals.find((signalA)=>signalA.number===number);\n};\n\nexport const signalsByNumber=getSignalsByNumber();\n//# sourceMappingURL=main.js.map", "\nexport const getRealtimeSignals=function(){\nconst length=SIGRTMAX-SIGRTMIN+1;\nreturn Array.from({length},getRealtimeSignal);\n};\n\nconst getRealtimeSignal=function(value,index){\nreturn{\nname:`SIGRT${index+1}`,\nnumber:SIGRTMIN+index,\naction:\"terminate\",\ndescription:\"Application-specific signal (realtime)\",\nstandard:\"posix\"};\n\n};\n\nconst SIGRTMIN=34;\nexport const SIGRTMAX=64;\n//# sourceMappingURL=realtime.js.map", "import{constants}from\"node:os\";\n\nimport{SIGNALS}from\"./core.js\";\nimport{getRealtimeSignals}from\"./realtime.js\";\n\n\n\nexport const getSignals=function(){\nconst realtimeSignals=getRealtimeSignals();\nconst signals=[...SIGNALS,...realtimeSignals].map(normalizeSignal);\nreturn signals;\n};\n\n\n\n\n\n\n\nconst normalizeSignal=function({\nname,\nnumber:defaultNumber,\ndescription,\naction,\nforced=false,\nstandard})\n{\nconst{\nsignals:{[name]:constantSignal}}=\nconstants;\nconst supported=constantSignal!==undefined;\nconst number=supported?constantSignal:defaultNumber;\nreturn{name,number,description,supported,action,forced,standard};\n};\n//# sourceMappingURL=signals.js.map", "\n\nexport const SIGNALS=[\n{\nname:\"SIGHUP\",\nnumber:1,\naction:\"terminate\",\ndescription:\"Terminal closed\",\nstandard:\"posix\"},\n\n{\nname:\"SIGINT\",\nnumber:2,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-C\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGQUIT\",\nnumber:3,\naction:\"core\",\ndescription:\"User interruption with CTRL-\\\\\",\nstandard:\"posix\"},\n\n{\nname:\"SIGILL\",\nnumber:4,\naction:\"core\",\ndescription:\"Invalid machine instruction\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGTRAP\",\nnumber:5,\naction:\"core\",\ndescription:\"Debugger breakpoint\",\nstandard:\"posix\"},\n\n{\nname:\"SIGABRT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGIOT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGBUS\",\nnumber:7,\naction:\"core\",\ndescription:\n\"Bus error due to misaligned, non-existing address or paging error\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGEMT\",\nnumber:7,\naction:\"terminate\",\ndescription:\"Command should be emulated but is not implemented\",\nstandard:\"other\"},\n\n{\nname:\"SIGFPE\",\nnumber:8,\naction:\"core\",\ndescription:\"Floating point arithmetic error\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGKILL\",\nnumber:9,\naction:\"terminate\",\ndescription:\"Forced termination\",\nstandard:\"posix\",\nforced:true},\n\n{\nname:\"SIGUSR1\",\nnumber:10,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"},\n\n{\nname:\"SIGSEGV\",\nnumber:11,\naction:\"core\",\ndescription:\"Segmentation fault\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGUSR2\",\nnumber:12,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"},\n\n{\nname:\"SIGPIPE\",\nnumber:13,\naction:\"terminate\",\ndescription:\"Broken pipe or socket\",\nstandard:\"posix\"},\n\n{\nname:\"SIGALRM\",\nnumber:14,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"posix\"},\n\n{\nname:\"SIGTERM\",\nnumber:15,\naction:\"terminate\",\ndescription:\"Termination\",\nstandard:\"ansi\"},\n\n{\nname:\"SIGSTKFLT\",\nnumber:16,\naction:\"terminate\",\ndescription:\"Stack is empty or overflowed\",\nstandard:\"other\"},\n\n{\nname:\"SIGCHLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"posix\"},\n\n{\nname:\"SIGCLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"other\"},\n\n{\nname:\"SIGCONT\",\nnumber:18,\naction:\"unpause\",\ndescription:\"Unpaused\",\nstandard:\"posix\",\nforced:true},\n\n{\nname:\"SIGSTOP\",\nnumber:19,\naction:\"pause\",\ndescription:\"Paused\",\nstandard:\"posix\",\nforced:true},\n\n{\nname:\"SIGTSTP\",\nnumber:20,\naction:\"pause\",\ndescription:\"Paused using CTRL-Z or \\\"suspend\\\"\",\nstandard:\"posix\"},\n\n{\nname:\"SIGTTIN\",\nnumber:21,\naction:\"pause\",\ndescription:\"Background process cannot read terminal input\",\nstandard:\"posix\"},\n\n{\nname:\"SIGBREAK\",\nnumber:21,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-BREAK\",\nstandard:\"other\"},\n\n{\nname:\"SIGTTOU\",\nnumber:22,\naction:\"pause\",\ndescription:\"Background process cannot write to terminal output\",\nstandard:\"posix\"},\n\n{\nname:\"SIGURG\",\nnumber:23,\naction:\"ignore\",\ndescription:\"Socket received out-of-band data\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGXCPU\",\nnumber:24,\naction:\"core\",\ndescription:\"Process timed out\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGXFSZ\",\nnumber:25,\naction:\"core\",\ndescription:\"File too big\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGVTALRM\",\nnumber:26,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGPROF\",\nnumber:27,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGWINCH\",\nnumber:28,\naction:\"ignore\",\ndescription:\"Terminal window size changed\",\nstandard:\"bsd\"},\n\n{\nname:\"SIGIO\",\nnumber:29,\naction:\"terminate\",\ndescription:\"I/O is available\",\nstandard:\"other\"},\n\n{\nname:\"SIGPOLL\",\nnumber:29,\naction:\"terminate\",\ndescription:\"Watched event\",\nstandard:\"other\"},\n\n{\nname:\"SIGINFO\",\nnumber:29,\naction:\"ignore\",\ndescription:\"Request for process information\",\nstandard:\"other\"},\n\n{\nname:\"SIGPWR\",\nnumber:30,\naction:\"terminate\",\ndescription:\"Device running out of power\",\nstandard:\"systemv\"},\n\n{\nname:\"SIGSYS\",\nnumber:31,\naction:\"core\",\ndescription:\"Invalid system call\",\nstandard:\"other\"},\n\n{\nname:\"SIGUNUSED\",\nnumber:31,\naction:\"terminate\",\ndescription:\"Invalid system call\",\nstandard:\"other\"}];\n//# sourceMappingURL=core.js.map", "import {signalsByName} from 'human-signals';\n\nconst getErrorPrefix = ({timedOut, timeout, errorCode, signal, signalDescription, exitCode, isCanceled}) => {\n\tif (timedOut) {\n\t\treturn `timed out after ${timeout} milliseconds`;\n\t}\n\n\tif (isCanceled) {\n\t\treturn 'was canceled';\n\t}\n\n\tif (errorCode !== undefined) {\n\t\treturn `failed with ${errorCode}`;\n\t}\n\n\tif (signal !== undefined) {\n\t\treturn `was killed with ${signal} (${signalDescription})`;\n\t}\n\n\tif (exitCode !== undefined) {\n\t\treturn `failed with exit code ${exitCode}`;\n\t}\n\n\treturn 'failed';\n};\n\nexport const makeError = ({\n\tstdout,\n\tstderr,\n\tall,\n\terror,\n\tsignal,\n\texitCode,\n\tcommand,\n\tescapedCommand,\n\ttimedOut,\n\tisCanceled,\n\tkilled,\n\tparsed: {options: {timeout}},\n}) => {\n\t// `signal` and `exitCode` emitted on `spawned.on('exit')` event can be `null`.\n\t// We normalize them to `undefined`\n\texitCode = exitCode === null ? undefined : exitCode;\n\tsignal = signal === null ? undefined : signal;\n\tconst signalDescription = signal === undefined ? undefined : signalsByName[signal].description;\n\n\tconst errorCode = error && error.code;\n\n\tconst prefix = getErrorPrefix({timedOut, timeout, errorCode, signal, signalDescription, exitCode, isCanceled});\n\tconst execaMessage = `Command ${prefix}: ${command}`;\n\tconst isError = Object.prototype.toString.call(error) === '[object Error]';\n\tconst shortMessage = isError ? `${execaMessage}\\n${error.message}` : execaMessage;\n\tconst message = [shortMessage, stderr, stdout].filter(Boolean).join('\\n');\n\n\tif (isError) {\n\t\terror.originalMessage = error.message;\n\t\terror.message = message;\n\t} else {\n\t\terror = new Error(message);\n\t}\n\n\terror.shortMessage = shortMessage;\n\terror.command = command;\n\terror.escapedCommand = escapedCommand;\n\terror.exitCode = exitCode;\n\terror.signal = signal;\n\terror.signalDescription = signalDescription;\n\terror.stdout = stdout;\n\terror.stderr = stderr;\n\n\tif (all !== undefined) {\n\t\terror.all = all;\n\t}\n\n\tif ('bufferedData' in error) {\n\t\tdelete error.bufferedData;\n\t}\n\n\terror.failed = true;\n\terror.timedOut = Boolean(timedOut);\n\terror.isCanceled = isCanceled;\n\terror.killed = killed && !timedOut;\n\n\treturn error;\n};\n", "const aliases = ['stdin', 'stdout', 'stderr'];\n\nconst hasAlias = options => aliases.some(alias => options[alias] !== undefined);\n\nexport const normalizeStdio = options => {\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tconst {stdio} = options;\n\n\tif (stdio === undefined) {\n\t\treturn aliases.map(alias => options[alias]);\n\t}\n\n\tif (hasAlias(options)) {\n\t\tthrow new Error(`It's not possible to provide \\`stdio\\` in combination with one of ${aliases.map(alias => `\\`${alias}\\``).join(', ')}`);\n\t}\n\n\tif (typeof stdio === 'string') {\n\t\treturn stdio;\n\t}\n\n\tif (!Array.isArray(stdio)) {\n\t\tthrow new TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof stdio}\\``);\n\t}\n\n\tconst length = Math.max(stdio.length, aliases.length);\n\treturn Array.from({length}, (value, index) => stdio[index]);\n};\n\n// `ipc` is pushed unless it is already present\nexport const normalizeStdioNode = options => {\n\tconst stdio = normalizeStdio(options);\n\n\tif (stdio === 'ipc') {\n\t\treturn 'ipc';\n\t}\n\n\tif (stdio === undefined || typeof stdio === 'string') {\n\t\treturn [stdio, stdio, stdio, 'ipc'];\n\t}\n\n\tif (stdio.includes('ipc')) {\n\t\treturn stdio;\n\t}\n\n\treturn [...stdio, 'ipc'];\n};\n", "import os from 'node:os';\nimport onExit from 'signal-exit';\n\nconst DEFAULT_FORCE_KILL_TIMEOUT = 1000 * 5;\n\n// Monkey-patches `childProcess.kill()` to add `forceKillAfterTimeout` behavior\nexport const spawnedKill = (kill, signal = 'SIGTERM', options = {}) => {\n\tconst killResult = kill(signal);\n\tsetKillTimeout(kill, signal, options, killResult);\n\treturn killResult;\n};\n\nconst setKillTimeout = (kill, signal, options, killResult) => {\n\tif (!shouldForceKill(signal, options, killResult)) {\n\t\treturn;\n\t}\n\n\tconst timeout = getForceKillAfterTimeout(options);\n\tconst t = setTimeout(() => {\n\t\tkill('SIGKILL');\n\t}, timeout);\n\n\t// Guarded because there's no `.unref()` when `execa` is used in the renderer\n\t// process in Electron. This cannot be tested since we don't run tests in\n\t// Electron.\n\t// istanbul ignore else\n\tif (t.unref) {\n\t\tt.unref();\n\t}\n};\n\nconst shouldForceKill = (signal, {forceKillAfterTimeout}, killResult) => isSigterm(signal) && forceKillAfterTimeout !== false && killResult;\n\nconst isSigterm = signal => signal === os.constants.signals.SIGTERM\n\t\t|| (typeof signal === 'string' && signal.toUpperCase() === 'SIGTERM');\n\nconst getForceKillAfterTimeout = ({forceKillAfterTimeout = true}) => {\n\tif (forceKillAfterTimeout === true) {\n\t\treturn DEFAULT_FORCE_KILL_TIMEOUT;\n\t}\n\n\tif (!Number.isFinite(forceKillAfterTimeout) || forceKillAfterTimeout < 0) {\n\t\tthrow new TypeError(`Expected the \\`forceKillAfterTimeout\\` option to be a non-negative integer, got \\`${forceKillAfterTimeout}\\` (${typeof forceKillAfterTimeout})`);\n\t}\n\n\treturn forceKillAfterTimeout;\n};\n\n// `childProcess.cancel()`\nexport const spawnedCancel = (spawned, context) => {\n\tconst killResult = spawned.kill();\n\n\tif (killResult) {\n\t\tcontext.isCanceled = true;\n\t}\n};\n\nconst timeoutKill = (spawned, signal, reject) => {\n\tspawned.kill(signal);\n\treject(Object.assign(new Error('Timed out'), {timedOut: true, signal}));\n};\n\n// `timeout` option handling\nexport const setupTimeout = (spawned, {timeout, killSignal = 'SIGTERM'}, spawnedPromise) => {\n\tif (timeout === 0 || timeout === undefined) {\n\t\treturn spawnedPromise;\n\t}\n\n\tlet timeoutId;\n\tconst timeoutPromise = new Promise((resolve, reject) => {\n\t\ttimeoutId = setTimeout(() => {\n\t\t\ttimeoutKill(spawned, killSignal, reject);\n\t\t}, timeout);\n\t});\n\n\tconst safeSpawnedPromise = spawnedPromise.finally(() => {\n\t\tclearTimeout(timeoutId);\n\t});\n\n\treturn Promise.race([timeoutPromise, safeSpawnedPromise]);\n};\n\nexport const validateTimeout = ({timeout}) => {\n\tif (timeout !== undefined && (!Number.isFinite(timeout) || timeout < 0)) {\n\t\tthrow new TypeError(`Expected the \\`timeout\\` option to be a non-negative integer, got \\`${timeout}\\` (${typeof timeout})`);\n\t}\n};\n\n// `cleanup` option handling\nexport const setExitHandler = async (spawned, {cleanup, detached}, timedPromise) => {\n\tif (!cleanup || detached) {\n\t\treturn timedPromise;\n\t}\n\n\tconst removeExitHandler = onExit(() => {\n\t\tspawned.kill();\n\t});\n\n\treturn timedPromise.finally(() => {\n\t\tremoveExitHandler();\n\t});\n};\n", "export function isStream(stream) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& typeof stream.pipe === 'function';\n}\n\nexport function isWritableStream(stream) {\n\treturn isStream(stream)\n\t\t&& stream.writable !== false\n\t\t&& typeof stream._write === 'function'\n\t\t&& typeof stream._writableState === 'object';\n}\n\nexport function isReadableStream(stream) {\n\treturn isStream(stream)\n\t\t&& stream.readable !== false\n\t\t&& typeof stream._read === 'function'\n\t\t&& typeof stream._readableState === 'object';\n}\n\nexport function isDuplexStream(stream) {\n\treturn isWritableStream(stream)\n\t\t&& isReadableStream(stream);\n}\n\nexport function isTransformStream(stream) {\n\treturn isDuplexStream(stream)\n\t\t&& typeof stream._transform === 'function';\n}\n", "import {isStream} from 'is-stream';\nimport getStream from 'get-stream';\nimport mergeStream from 'merge-stream';\n\n// `input` option\nexport const handleInput = (spawned, input) => {\n\tif (input === undefined) {\n\t\treturn;\n\t}\n\n\tif (isStream(input)) {\n\t\tinput.pipe(spawned.stdin);\n\t} else {\n\t\tspawned.stdin.end(input);\n\t}\n};\n\n// `all` interleaves `stdout` and `stderr`\nexport const makeAllStream = (spawned, {all}) => {\n\tif (!all || (!spawned.stdout && !spawned.stderr)) {\n\t\treturn;\n\t}\n\n\tconst mixed = mergeStream();\n\n\tif (spawned.stdout) {\n\t\tmixed.add(spawned.stdout);\n\t}\n\n\tif (spawned.stderr) {\n\t\tmixed.add(spawned.stderr);\n\t}\n\n\treturn mixed;\n};\n\n// On failure, `result.stdout|stderr|all` should contain the currently buffered stream\nconst getBufferedData = async (stream, streamPromise) => {\n\t// When `buffer` is `false`, `streamPromise` is `undefined` and there is no buffered data to retrieve\n\tif (!stream || streamPromise === undefined) {\n\t\treturn;\n\t}\n\n\tstream.destroy();\n\n\ttry {\n\t\treturn await streamPromise;\n\t} catch (error) {\n\t\treturn error.bufferedData;\n\t}\n};\n\nconst getStreamPromise = (stream, {encoding, buffer, maxBuffer}) => {\n\tif (!stream || !buffer) {\n\t\treturn;\n\t}\n\n\tif (encoding) {\n\t\treturn getStream(stream, {encoding, maxBuffer});\n\t}\n\n\treturn getStream.buffer(stream, {maxBuffer});\n};\n\n// Retrieve result of child process: exit code, signal, error, streams (stdout/stderr/all)\nexport const getSpawnedResult = async ({stdout, stderr, all}, {encoding, buffer, maxBuffer}, processDone) => {\n\tconst stdoutPromise = getStreamPromise(stdout, {encoding, buffer, maxBuffer});\n\tconst stderrPromise = getStreamPromise(stderr, {encoding, buffer, maxBuffer});\n\tconst allPromise = getStreamPromise(all, {encoding, buffer, maxBuffer: maxBuffer * 2});\n\n\ttry {\n\t\treturn await Promise.all([processDone, stdoutPromise, stderrPromise, allPromise]);\n\t} catch (error) {\n\t\treturn Promise.all([\n\t\t\t{error, signal: error.signal, timedOut: error.timedOut},\n\t\t\tgetBufferedData(stdout, stdoutPromise),\n\t\t\tgetBufferedData(stderr, stderrPromise),\n\t\t\tgetBufferedData(all, allPromise),\n\t\t]);\n\t}\n};\n\nexport const validateInputSync = ({input}) => {\n\tif (isStream(input)) {\n\t\tthrow new TypeError('The `input` option cannot be a stream in sync mode');\n\t}\n};\n", "// eslint-disable-next-line unicorn/prefer-top-level-await\nconst nativePromisePrototype = (async () => {})().constructor.prototype;\n\nconst descriptors = ['then', 'catch', 'finally'].map(property => [\n\tproperty,\n\tReflect.getOwnPropertyDescriptor(nativePromisePrototype, property),\n]);\n\n// The return value is a mixin of `childProcess` and `Promise`\nexport const mergePromise = (spawned, promise) => {\n\tfor (const [property, descriptor] of descriptors) {\n\t\t// Starting the main `promise` is deferred to avoid consuming streams\n\t\tconst value = typeof promise === 'function'\n\t\t\t? (...args) => Reflect.apply(descriptor.value, promise(), args)\n\t\t\t: descriptor.value.bind(promise);\n\n\t\tReflect.defineProperty(spawned, property, {...descriptor, value});\n\t}\n\n\treturn spawned;\n};\n\n// Use promises instead of `child_process` events\nexport const getSpawnedPromise = spawned => new Promise((resolve, reject) => {\n\tspawned.on('exit', (exitCode, signal) => {\n\t\tresolve({exitCode, signal});\n\t});\n\n\tspawned.on('error', error => {\n\t\treject(error);\n\t});\n\n\tif (spawned.stdin) {\n\t\tspawned.stdin.on('error', error => {\n\t\t\treject(error);\n\t\t});\n\t}\n});\n", "const normalizeArgs = (file, args = []) => {\n\tif (!Array.isArray(args)) {\n\t\treturn [file];\n\t}\n\n\treturn [file, ...args];\n};\n\nconst NO_ESCAPE_REGEXP = /^[\\w.-]+$/;\nconst DOUBLE_QUOTES_REGEXP = /\"/g;\n\nconst escapeArg = arg => {\n\tif (typeof arg !== 'string' || NO_ESCAPE_REGEXP.test(arg)) {\n\t\treturn arg;\n\t}\n\n\treturn `\"${arg.replace(DOUBLE_QUOTES_REGEXP, '\\\\\"')}\"`;\n};\n\nexport const joinCommand = (file, args) => normalizeArgs(file, args).join(' ');\n\nexport const getEscapedCommand = (file, args) => normalizeArgs(file, args).map(arg => escapeArg(arg)).join(' ');\n\nconst SPACES_REGEXP = / +/g;\n\n// Handle `execaCommand()`\nexport const parseCommand = command => {\n\tconst tokens = [];\n\tfor (const token of command.trim().split(SPACES_REGEXP)) {\n\t\t// Allow spaces to be escaped by a backslash if not meant as a delimiter\n\t\tconst previousToken = tokens[tokens.length - 1];\n\t\tif (previousToken && previousToken.endsWith('\\\\')) {\n\t\t\t// Merge previous token with current one\n\t\t\ttokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n\t\t} else {\n\t\t\ttokens.push(token);\n\t\t}\n\t}\n\n\treturn tokens;\n};\n", "import { LocalStorage } from \"@raycast/api\";\nimport { pbkdf2 } from \"crypto\";\nimport { LOCAL_STORAGE_KEY } from \"~/constants/general\";\nimport { DEFAULT_PASSWORD_OPTIONS, REPROMPT_HASH_SALT } from \"~/constants/passwords\";\nimport { PasswordGeneratorOptions } from \"~/types/passwords\";\n\nexport function getPasswordGeneratingArgs(options: PasswordGeneratorOptions): string[] {\n  return Object.entries(options).flatMap(([arg, value]) => (value ? [`--${arg}`, value] : []));\n}\n\nexport async function hashMasterPasswordForReprompting(password: string): Promise<string> {\n  return new Promise((resolve, reject) => {\n    pbkdf2(password, REPROMPT_HASH_SALT, 100000, 64, \"sha512\", (error, hashed) => {\n      if (error != null) {\n        reject(error);\n        return;\n      }\n\n      resolve(hashed.toString(\"hex\"));\n    });\n  });\n}\n\nexport async function getPasswordGeneratorOptions() {\n  const storedOptions = await LocalStorage.getItem<string>(LOCAL_STORAGE_KEY.PASSWORD_OPTIONS);\n  return {\n    ...DEFAULT_PASSWORD_OPTIONS,\n    ...(storedOptions ? JSON.parse(storedOptions) : {}),\n  } as PasswordGeneratorOptions;\n}\n", "import { PassphraseOptions, PasswordGeneratorOptions, PasswordOptionField, PasswordOptions } from \"~/types/passwords\";\n\nexport const REPROMPT_HASH_SALT = \"foobarbazzybaz\";\n\nexport const DEFAULT_PASSWORD_OPTIONS: PasswordGeneratorOptions = {\n  lowercase: true,\n  uppercase: true,\n  number: false,\n  special: false,\n  passphrase: false,\n  length: 14,\n  words: 3,\n  separator: \"-\",\n  capitalize: false,\n  includeNumber: false,\n};\n\nexport const PASSWORD_OPTIONS_MAP: {\n  password: Record<keyof PasswordOptions, PasswordOptionField>;\n  passphrase: Record<keyof PassphraseOptions, PasswordOptionField>;\n} = {\n  password: {\n    length: {\n      label: \"Length of the password\",\n      hint: \"5 - 128\",\n      type: \"number\",\n      errorMessage: \"Number between 5 and 128\",\n    },\n    uppercase: {\n      label: \"Uppercase characters\",\n      hint: \"ABCDEFGHIJLMNOPQRSTUVWXYZ\",\n      type: \"boolean\",\n    },\n    lowercase: {\n      label: \"Lowercase characters\",\n      hint: \"abcdefghijklmnopqrstuvwxyz\",\n      type: \"boolean\",\n    },\n    number: {\n      label: \"Numeric characters\",\n      hint: \"0123456789\",\n      type: \"boolean\",\n    },\n    special: {\n      label: \"Special characters\",\n      hint: \"!@#$%^&*()_+-=[]{}|;:,./<>?\",\n      type: \"boolean\",\n    },\n  },\n  passphrase: {\n    words: {\n      label: \"Number of words\",\n      hint: \"3 - 20\",\n      type: \"number\",\n      errorMessage: \"Number between 3 and 20\",\n    },\n    separator: {\n      label: \"Word separator\",\n      hint: \"this-is-a-passphrase\",\n      type: \"string\",\n      errorMessage: \"Must be a single character\",\n    },\n    capitalize: {\n      label: \"Capitalise\",\n      hint: \"This-Is-A-Passphrase\",\n      type: \"boolean\",\n    },\n    includeNumber: {\n      label: \"Include number\",\n      hint: \"This2-Is-A-Passphrase\",\n      type: \"boolean\",\n    },\n  },\n};\n", "import { environment, getPreferenceValues } from \"@raycast/api\";\nimport { CommandName } from \"~/types/general\";\nimport { Preferences, TransientCopyPreferences } from \"~/types/preferences\";\n\nexport function getServerUrlPreference(): string {\n  const { serverUrl } = getPreferenceValues<Preferences>();\n  if (serverUrl === \"\" || serverUrl === \"bitwarden.com\" || serverUrl === \"https://bitwarden.com\") {\n    return \"\";\n  }\n  return serverUrl;\n}\n\nconst COMMAND_NAME_TO_PREFERENCE_KEY_MAP: Record<CommandName, keyof TransientCopyPreferences> = {\n  search: \"transientCopySearch\",\n  \"generate-password\": \"transientCopyGeneratePassword\",\n  \"generate-password-quick\": \"transientCopyGeneratePasswordQuick\",\n};\n\nexport function getTransientCopyPreference(type: \"password\" | \"other\"): boolean {\n  const preferenceKey = COMMAND_NAME_TO_PREFERENCE_KEY_MAP[environment.commandName as CommandName];\n  const transientPreference = getPreferenceValues<Preferences>()[preferenceKey];\n  if (transientPreference === \"never\") return false;\n  if (transientPreference === \"always\") return true;\n  if (transientPreference === \"passwords\") return type === \"password\";\n  return true;\n}\n", "export type ObjectEntries<Obj> = { [Key in keyof Obj]: [Key, Obj[Key]] }[keyof Obj][];\n\n/** `Object.entries` with typed keys */\nexport function objectEntries<T extends object>(obj: T) {\n  return Object.entries(obj) as ObjectEntries<T>;\n}\n\nexport function isObject(obj: unknown): obj is object {\n  return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\n", "import { ExecaError } from \"execa\";\nimport { isObject } from \"~/utils/objects\";\n\nexport function treatError(error: unknown, options?: { omitSensitiveValue: string }) {\n  try {\n    const execaError = error as ExecaError;\n    let errorString: string | undefined;\n    if (execaError?.stderr) {\n      errorString = execaError.stderr;\n    } else if (error instanceof Error) {\n      errorString = `${error.name}: ${error.message}`;\n    } else if (isObject(error)) {\n      errorString = JSON.stringify(error);\n    } else {\n      errorString = `${error}`;\n    }\n\n    if (!errorString) return \"\";\n    if (!options?.omitSensitiveValue) return errorString;\n\n    return omitSensitiveValueFromString(errorString, options.omitSensitiveValue);\n  } catch {\n    return \"\";\n  }\n}\n\nexport function omitSensitiveValueFromString(value: string, sensitiveValue: string) {\n  return value.replace(new RegExp(sensitiveValue, \"i\"), \"[REDACTED]\");\n}\n", "import { Alert, closeMainWindow, confirmAlert, Icon, popToRoot } from \"@raycast/api\";\nimport { useEffect, useState } from \"react\";\nimport { useBitwarden } from \"~/context/bitwarden\";\nimport { VaultState } from \"~/types/general\";\nimport { getServerUrlPreference } from \"~/utils/preferences\";\n\nfunction useVaultMessages() {\n  const bitwarden = useBitwarden();\n  const [vaultState, setVaultState] = useState<VaultState | null>(null);\n\n  useEffect(() => {\n    bitwarden.status().then((vaultState) => {\n      setVaultState(vaultState);\n    });\n  }, []);\n\n  const shouldShowServer = !!getServerUrlPreference();\n\n  let userMessage = \"...\";\n  let serverMessage = \"...\";\n\n  if (vaultState) {\n    const { status, userEmail, serverUrl } = vaultState;\n    userMessage = status == \"unauthenticated\" ? \"\u274C Logged out\" : `\uD83D\uDD12 Locked (${userEmail})`;\n    if (serverUrl) {\n      serverMessage = serverUrl || \"\";\n    } else if ((!serverUrl && shouldShowServer) || (serverUrl && !shouldShowServer)) {\n      // Hosted state not in sync with CLI (we don't check for equality)\n      confirmAlert({\n        icon: Icon.ExclamationMark,\n        title: \"Restart Required\",\n        message: \"Bitwarden server URL preference has been changed since the extension was opened.\",\n        primaryAction: {\n          title: \"Close Extension\",\n        },\n        dismissAction: {\n          title: \"Close Raycast\", // Only here to provide the necessary second option\n          style: Alert.ActionStyle.Cancel,\n        },\n      }).then((closeExtension) => {\n        if (closeExtension) {\n          popToRoot();\n        } else {\n          closeMainWindow();\n        }\n      });\n    }\n  }\n\n  return { userMessage, serverMessage, shouldShowServer };\n}\n\nexport default useVaultMessages;\n", "import { showToast, Toast } from \"@raycast/api\";\nimport { createContext, PropsWithChildren, useContext, useEffect, useMemo, useReducer } from \"react\";\nimport { useBitwarden } from \"~/context/bitwarden\";\nimport { useSession } from \"~/context/session\";\nimport { Folder, Item } from \"~/types/vault\";\n\nexport type VaultState = {\n  items: Item[];\n  folders: Folder[];\n  isLoading: boolean;\n  isLocked: boolean;\n};\n\nexport type VaultContextType = VaultState & {\n  isEmpty: boolean;\n  isLoading: boolean;\n  syncItems: () => Promise<void>;\n};\n\nconst VaultContext = createContext<VaultContextType | null>(null);\n\nconst initialState: VaultState = { items: [], folders: [], isLoading: true, isLocked: false };\n\nexport const VaultProvider = ({ children }: PropsWithChildren) => {\n  const session = useSession();\n  const bitwarden = useBitwarden();\n  const [state, setState] = useReducer(\n    (previous: VaultState, next: Partial<VaultState>) => ({ ...previous, ...next }),\n    initialState\n  );\n\n  const isEmpty = state.items.length == 0;\n  const isLoading = session.isLoading || state.isLoading;\n\n  useEffect(() => {\n    if (!session.active) return;\n    if (session.token) {\n      loadItems(session.token);\n    } else {\n      setState({ isLocked: true });\n    }\n  }, [session.token, session.active]);\n\n  async function loadItems(sessionToken: string) {\n    try {\n      const [folders, items] = await Promise.all([\n        bitwarden.listFolders(sessionToken),\n        bitwarden.listItems(sessionToken),\n      ]);\n      items.sort(favoriteItemsFirstSorter);\n      setState({ isLoading: false, items, folders });\n    } catch (error) {\n      showToast(Toast.Style.Failure, \"Failed to load vault.\");\n    }\n  }\n\n  async function syncItems() {\n    if (session.token) {\n      const toast = await showToast(Toast.Style.Animated, \"Syncing Items...\");\n      try {\n        await bitwarden.sync(session.token);\n        await loadItems(session.token);\n        await toast.hide();\n      } catch (error) {\n        await session.logout();\n        toast.style = Toast.Style.Failure;\n        toast.message = \"Failed to sync. Please try logging in again.\";\n      }\n    }\n  }\n\n  const memoizedValue = useMemo(\n    () => ({ ...state, isEmpty, isLoading, syncItems }),\n    [state, isEmpty, isLoading, syncItems]\n  );\n\n  return <VaultContext.Provider value={memoizedValue}>{children}</VaultContext.Provider>;\n};\n\nfunction favoriteItemsFirstSorter(a: Item, b: Item) {\n  if (a.favorite && b.favorite) return 0;\n  return a.favorite ? -1 : 1;\n}\n\nexport const useVault = () => {\n  const context = useContext(VaultContext);\n  if (context == null) {\n    throw new Error(\"useVault must be used within a VaultProvider\");\n  }\n\n  return context;\n};\n\nexport default VaultContext;\n", "import { Color, getPreferenceValues, Icon, List } from \"@raycast/api\";\nimport { useMemo } from \"react\";\nimport VaultItemActionPanel from \"~/components/searchVault/ItemActionPanel\";\nimport VaultItemContext from \"~/components/searchVault/context/vaultItem\";\nimport { Folder, Item } from \"~/types/vault\";\nimport { extractKeywords, faviconUrl } from \"~/utils/search\";\n\nconst { fetchFavicons } = getPreferenceValues();\n\nexport type VaultItemProps = {\n  item: Item;\n  folder: Folder | undefined;\n};\n\nconst VaultItem = (props: VaultItemProps) => {\n  const { item, folder } = props;\n\n  const keywords = useMemo(() => extractKeywords(item), [item]);\n\n  return (\n    <VaultItemContext.Provider value={item}>\n      <List.Item\n        id={item.id}\n        title={item.name}\n        keywords={keywords}\n        accessories={getAccessories(item, folder)}\n        icon={getIcon(item)}\n        subtitle={item.login?.username || undefined}\n        actions={<VaultItemActionPanel />}\n      />\n    </VaultItemContext.Provider>\n  );\n};\n\nconst ITEM_TYPE_TO_ICON_MAP = {\n  1: Icon.Globe,\n  2: Icon.BlankDocument,\n  3: Icon.List,\n  4: Icon.Person,\n};\n\nfunction getIcon(item: Item) {\n  const iconUri = item.login?.uris?.[0]?.uri;\n  if (fetchFavicons && iconUri) return faviconUrl(iconUri);\n  return ITEM_TYPE_TO_ICON_MAP[item.type];\n}\n\nfunction getAccessories(item: Item, folder: Folder | undefined) {\n  const accessories = [];\n\n  if (folder?.id) {\n    accessories.push({\n      icon: { source: Icon.Folder, tintColor: Color.SecondaryText },\n      tooltip: \"Folder\",\n      text: folder.name,\n    });\n  }\n\n  if (item.favorite) {\n    accessories.push({ icon: { source: Icon.Star, tintColor: Color.Yellow }, tooltip: \"Favorite\" });\n  }\n\n  return accessories;\n}\n\nexport default VaultItem;\n", "import { ActionPanel, getPreferenceValues } from \"@raycast/api\";\nimport ComponentReverser from \"~/components/ComponentReverser\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport {\n  CopyPasswordAction,\n  CopyTextFieldsActions,\n  CopyTotpAction,\n  CopyUsernameAction,\n  OpenUrlInBrowserAction,\n  PastePasswordAction,\n  SearchCommonActions,\n  ShowCardDetailsAction,\n  ShowSecureNoteAction,\n} from \"~/components/searchVault/actions\";\n\nconst { primaryAction } = getPreferenceValues();\n\nconst VaultItemActionPanel = () => {\n  const { login, card } = useSelectedVaultItem();\n\n  return (\n    <ActionPanel>\n      {!!login && (\n        <ActionPanel.Section>\n          <ComponentReverser reverse={primaryAction === \"copy\"}>\n            <PastePasswordAction />\n            <CopyPasswordAction />\n          </ComponentReverser>\n          <CopyTotpAction />\n          <CopyUsernameAction />\n          <OpenUrlInBrowserAction />\n        </ActionPanel.Section>\n      )}\n      {!!card && (\n        <ActionPanel.Section>\n          <ShowCardDetailsAction />\n          <ShowSecureNoteAction />\n        </ActionPanel.Section>\n      )}\n      <ActionPanel.Section>\n        <CopyTextFieldsActions />\n      </ActionPanel.Section>\n      <ActionPanel.Section>\n        <SearchCommonActions />\n      </ActionPanel.Section>\n    </ActionPanel>\n  );\n};\n\nexport default VaultItemActionPanel;\n", "import { Children, PropsWithChildren } from \"react\";\n\nexport type ComponentReverserProps = PropsWithChildren<{\n  reverse?: boolean;\n}>;\n\nconst ComponentReverser = (props: ComponentReverserProps) => {\n  const children = Children.toArray(props.children);\n  if (props.reverse) children.reverse();\n  return <>{children}</>;\n};\n\nexport default ComponentReverser;\n", "import { createContext, useContext } from \"react\";\nimport { Item } from \"~/types/vault\";\n\nconst VaultItemContext = createContext<Item | null>(null);\n\nexport const useSelectedVaultItem = () => {\n  const session = useContext(VaultItemContext);\n  if (session == null) {\n    throw new Error(\"useSelectVaultItem must be used within a VaultItemContext.Provider\");\n  }\n\n  return session;\n};\n\nexport default VaultItemContext;\n", "import { Clipboard, Icon, showHUD } from \"@raycast/api\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\n\nfunction CopyPasswordAction() {\n  const { login, name } = useSelectedVaultItem();\n  const password = login?.password;\n\n  if (!password) return null;\n\n  const copyPassword = async () => {\n    await Clipboard.copy(password, { transient: getTransientCopyPreference(\"password\") });\n    await showHUD(\"Copied password to clipboard\");\n  };\n\n  return (\n    <ActionWithReprompt\n      title=\"Copy Password\"\n      icon={Icon.Key}\n      onAction={copyPassword}\n      repromptDescription={`Copying the password of <${name}>`}\n    />\n  );\n}\n\nexport default CopyPasswordAction;\n", "import { Action } from \"@raycast/api\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport useReprompt from \"~/utils/hooks/useReprompt\";\n\nexport type ActionWithRepromptProps = Omit<Action.Props, \"onAction\"> & {\n  repromptDescription?: string;\n  onAction: () => void | Promise<void>;\n};\n\nfunction ActionWithReprompt(props: ActionWithRepromptProps) {\n  const { repromptDescription, onAction, ...componentProps } = props;\n  const { reprompt } = useSelectedVaultItem();\n  const repromptAndPerformAction = useReprompt(onAction, { description: repromptDescription });\n\n  return <Action {...componentProps} onAction={reprompt ? repromptAndPerformAction : onAction} />;\n}\n\nexport default ActionWithReprompt;\n", "import { showToast, Toast, useNavigation } from \"@raycast/api\";\nimport RepromptForm from \"~/components/RepromptForm\";\nimport { useSession } from \"~/context/session\";\n\nexport type UserRepromptActionProp = { closeForm: () => void };\nexport type UseRepromptAction = (props: UserRepromptActionProp) => boolean | Promise<boolean>;\n\nexport type UseRepromptOptions = {\n  description?: string;\n};\n\n/**\n * Returns a function for an Action that will navigate to the {@link RepromptForm}.\n * The password is not confirm in this hook, only passed down to the action.\n */\nfunction useReprompt(action: () => void | Promise<void>, options?: UseRepromptOptions) {\n  const { description = \"Performing an action that requires the master password\" } = options ?? {};\n  const session = useSession();\n  const { push, pop } = useNavigation();\n\n  async function handleConfirm(password: string) {\n    const isPasswordCorrect = await session.confirmMasterPassword(password);\n    if (!isPasswordCorrect) {\n      await showToast(Toast.Style.Failure, \"Failed to unlock vault\", \"Check your credentials\");\n      return;\n    }\n    pop();\n\n    /* using a setTimeout here fixes a bug where the RepromptForm flashes when you pop back to the previous screen. \n    This comes with the trade-off of a tiny visible delay between the RepromptForm pop and the action pushing a new screen */\n    setTimeout(action, 1);\n  }\n\n  return () => push(<RepromptForm description={description} onConfirm={handleConfirm} />);\n}\n\nexport default useReprompt;\n", "import { Action, ActionPanel, Form } from \"@raycast/api\";\n\nexport type RepromptFormProps = {\n  description: string;\n  onConfirm: (password: string) => void;\n};\n\nconst RepromptForm = (props: RepromptFormProps) => {\n  const { description, onConfirm } = props;\n\n  async function onSubmit(values: { password: string }) {\n    onConfirm(values.password);\n  }\n\n  return (\n    <Form\n      navigationTitle=\"Confirmation Required\"\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm title=\"Confirm\" onSubmit={onSubmit} shortcut={{ key: \"enter\", modifiers: [] }} />\n        </ActionPanel>\n      }\n    >\n      <Form.Description title=\"Confirmation Required for\" text={description} />\n      <Form.PasswordField autoFocus id=\"password\" title=\"Master Password\" />\n    </Form>\n  );\n};\n\nexport default RepromptForm;\n", "import { Clipboard, Icon } from \"@raycast/api\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\n\nfunction PastePasswordAction() {\n  const { login, name } = useSelectedVaultItem();\n  const password = login?.password;\n\n  if (!password) return null;\n\n  const pastePassword = async () => {\n    await Clipboard.paste(password);\n  };\n\n  return (\n    <ActionWithReprompt\n      title=\"Paste Password\"\n      icon={Icon.Key}\n      onAction={pastePassword}\n      repromptDescription={`Pasting the password of <${name}>`}\n    />\n  );\n}\n\nexport default PastePasswordAction;\n", "import { Clipboard, closeMainWindow, Icon, showToast, Toast } from \"@raycast/api\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { useBitwarden } from \"~/context/bitwarden\";\nimport { useSession } from \"~/context/session\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\n\nfunction CopyTotpAction() {\n  const { id, name, login } = useSelectedVaultItem();\n  const bitwarden = useBitwarden();\n  const session = useSession();\n  const code = login?.totp;\n\n  if (!code) return null;\n\n  const copyTotp = async () => {\n    if (session.token) {\n      const toast = await showToast(Toast.Style.Success, \"Copying TOTP Code...\");\n      const totp = await bitwarden.getTotp(id, session.token);\n      await Clipboard.copy(totp, { transient: getTransientCopyPreference(\"other\") });\n      await toast.hide();\n      await closeMainWindow({ clearRootSearch: true });\n    } else {\n      showToast(Toast.Style.Failure, \"Failed to fetch TOTP.\");\n    }\n  };\n\n  return (\n    <ActionWithReprompt\n      title=\"Copy TOTP\"\n      icon={Icon.Clipboard}\n      onAction={copyTotp}\n      shortcut={{ modifiers: [\"cmd\"], key: \"t\" }}\n      repromptDescription={`Copying the TOTP of <${name}>`}\n    />\n  );\n}\n\nexport default CopyTotpAction;\n", "import { Action, ActionPanel, Detail, Icon, useNavigation } from \"@raycast/api\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\nimport { codeBlock } from \"~/utils/strings\";\n\nfunction ShowSecureNoteAction() {\n  const { notes, name } = useSelectedVaultItem();\n  const { push } = useNavigation();\n\n  if (!notes) return null;\n\n  const showSecureNote = () => {\n    push(\n      <Detail\n        markdown={codeBlock(notes)}\n        actions={\n          <ActionPanel>\n            <Action.CopyToClipboard\n              title=\"Copy Secure Note\"\n              content={notes}\n              transient={getTransientCopyPreference(\"other\")}\n            />\n          </ActionPanel>\n        }\n      />\n    );\n  };\n\n  return (\n    <ActionWithReprompt\n      title=\"Show Secure Note\"\n      icon={Icon.BlankDocument}\n      onAction={showSecureNote}\n      repromptDescription={`Showing the note of <${name}>`}\n    />\n  );\n}\n\nexport default ShowSecureNoteAction;\n", "export const capitalize = (value: string) => value.charAt(0).toUpperCase() + value.slice(1);\n\nexport function codeBlock(content: string): string {\n  return \"```\\n\" + content + \"\\n```\";\n}\n", "import { Action, Icon } from \"@raycast/api\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\n\nfunction CopyUsernameAction() {\n  const { login } = useSelectedVaultItem();\n  const username = login?.username;\n\n  if (!username) return null;\n\n  return (\n    <Action.CopyToClipboard\n      title=\"Copy Username\"\n      icon={Icon.Person}\n      content={username}\n      shortcut={{ modifiers: [\"cmd\"], key: \"u\" }}\n      transient={getTransientCopyPreference(\"other\")}\n    />\n  );\n}\n\nexport default CopyUsernameAction;\n", "import { Action, Clipboard, closeMainWindow, Icon, showHUD } from \"@raycast/api\";\nimport { capitalize } from \"~/utils/strings\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\n\nfunction CopyTextFieldsActions() {\n  const { login, notes, card, identity, fields, name } = useSelectedVaultItem();\n\n  const fieldMap = Object.fromEntries(fields?.map((field) => [field.name, field.value]) || []);\n  const uriMap = Object.fromEntries(\n    login?.uris?.filter((uri) => uri.uri).map((uri, index) => [`URI ${index + 1}`, uri.uri]) || []\n  );\n\n  const onRepromptAction = (content: string) => async () => {\n    await Clipboard.copy(content, { transient: getTransientCopyPreference(\"other\") });\n    await showHUD(\"Copied to Clipboard\");\n    await closeMainWindow();\n  };\n\n  return (\n    <>\n      {Object.entries(uriMap).map(([title, content], index) => {\n        if (!content) return null;\n\n        return (\n          <Action.CopyToClipboard\n            key={`${index}-${title}`}\n            title={`Copy ${title}`}\n            icon={Icon.Clipboard}\n            content={content}\n            transient={getTransientCopyPreference(\"other\")}\n          />\n        );\n      })}\n      {Object.entries({ notes, ...card, ...identity, ...fieldMap }).map(([title, content], index) => {\n        if (!content) return null;\n\n        const capitalizedTitle = capitalize(title);\n        return (\n          <ActionWithReprompt\n            key={`${index}-${title}`}\n            title={`Copy ${capitalizedTitle}`}\n            icon={Icon.Clipboard}\n            onAction={onRepromptAction(content)}\n            repromptDescription={`Copying the ${capitalizedTitle} of <${name}>`}\n          />\n        );\n      })}\n    </>\n  );\n}\n\nexport default CopyTextFieldsActions;\n", "import { Action, Icon } from \"@raycast/api\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\n\nfunction OpenUrlInBrowserAction() {\n  const { login } = useSelectedVaultItem();\n  const mainUri = login?.uris?.[0]?.uri;\n\n  if (!mainUri) return null;\n\n  return (\n    <Action.OpenInBrowser\n      title=\"Open in Browser\"\n      url={mainUri}\n      icon={Icon.Globe}\n      shortcut={{ modifiers: [\"cmd\"], key: \"o\" }}\n    />\n  );\n}\n\nexport default OpenUrlInBrowserAction;\n", "import { Action, ActionPanel, Detail, Icon, useNavigation } from \"@raycast/api\";\nimport ActionWithReprompt from \"~/components/actions/ActionWithReprompt\";\nimport { useSelectedVaultItem } from \"~/components/searchVault/context/vaultItem\";\nimport { getCardDetailsCopyValue, getCardDetailsMarkdown } from \"~/utils/cards\";\nimport { getTransientCopyPreference } from \"~/utils/preferences\";\n\nfunction ShowCardDetailsAction() {\n  const { push } = useNavigation();\n  const { card, name } = useSelectedVaultItem();\n\n  if (!card) return null;\n\n  const showCardDetails = () => {\n    push(\n      <Detail\n        markdown={getCardDetailsMarkdown(card)}\n        actions={\n          <ActionPanel>\n            <Action.CopyToClipboard\n              title=\"Copy Card Details\"\n              content={getCardDetailsCopyValue(card)}\n              transient={getTransientCopyPreference(\"other\")}\n            />\n          </ActionPanel>\n        }\n      />\n    );\n  };\n\n  return (\n    <ActionWithReprompt\n      title=\"Show Card Details\"\n      icon={Icon.CreditCard}\n      onAction={showCardDetails}\n      repromptDescription={`Showing the card details of <${name}>`}\n    />\n  );\n}\n\nexport default ShowCardDetailsAction;\n", "import { Card } from \"~/types/vault\";\n\nconst MONTH_NUMBER_TO_LABEL_MAP = {\n  1: \"01 - January\",\n  2: \"02 - February\",\n  3: \"03 - March\",\n  4: \"04 - April\",\n  5: \"05 - May\",\n  6: \"06 - June\",\n  7: \"07 - July\",\n  8: \"08 - August\",\n  9: \"09 - September\",\n  10: \"10 - October\",\n  11: \"11 - November\",\n  12: \"12 - December\",\n} as Record<string, string>;\n\nconst CARD_MAPPER: Record<string, (value: string) => string> = {\n  expMonth: (value: string) => MONTH_NUMBER_TO_LABEL_MAP[value],\n};\n\nconst CARD_KEY_LABEL: Record<keyof Card, string> = {\n  cardholderName: \"Cardholder name\",\n  number: \"Number\",\n  code: \"Security code (CVV)\",\n  expMonth: \"Expiration month\",\n  expYear: \"Expiration year\",\n  brand: \"Brand\",\n};\n\nconst getCardValue = (key: string, value: string) => {\n  return CARD_MAPPER[key as keyof Card]?.(value) ?? value;\n};\n\nexport function getCardDetailsMarkdown(card: Card) {\n  return `# \uD83D\uDCB3 Card Details\n---\n${Object.entries(card)\n  .map(([key, value]) => (value ? `- **${CARD_KEY_LABEL[key as keyof Card]}**: ${getCardValue(key, value)}` : null))\n  .join(\"\\n\")}\n`;\n}\n\nexport function getCardDetailsCopyValue(card: Card) {\n  return Object.entries(card)\n    .map(([key, value]) => (value ? `${CARD_KEY_LABEL[key as keyof Card]}: ${getCardValue(key, value)}` : null))\n    .filter(Boolean)\n    .join(\"\\n\");\n}\n", "import { Icon } from \"@raycast/api\";\nimport { URL } from \"url\";\nimport { Item } from \"~/types/vault\";\n\nexport function extractKeywords(item: Item): string[] {\n  const keywords: (string | null | undefined)[] = [item.name];\n  if (item.card) {\n    const { brand, number } = item.card;\n    keywords.push(brand);\n    if (number !== null) {\n      // Similar to Bitwarden, use the last 5 digits if the card is Amex\n      const isAmex = /^3[47]/.test(number);\n      keywords.push(number.substring(number.length - (isAmex ? 5 : 4), number.length));\n    }\n  }\n  keywords.push(item.login?.username);\n  if (item.login?.uris) {\n    for (const uri of item.login.uris) {\n      if (uri.uri !== null) {\n        try {\n          keywords.push(...new URL(uri.uri).hostname.split(\".\"));\n        } catch (error) {\n          // Invalid hostname\n        }\n      }\n    }\n  }\n  // Unique keywords\n  const uniqueKeywords = new Set(keywords.filter((keyword): keyword is string => !!keyword));\n  return [...uniqueKeywords];\n}\n\nexport function faviconUrl(url: string): string {\n  try {\n    const domain = new URL(url).hostname;\n    return `https://icons.bitwarden.net/${domain}/icon.png`;\n  } catch (err) {\n    return Icon.Globe;\n  }\n}\n"],
  "mappings": "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",
  "names": ["require_windows", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "checkPathExt", "path", "options", "pathext", "i", "p", "checkStat", "stat", "cb", "er", "require_mode", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "path", "options", "cb", "er", "stat", "checkStat", "checkMode", "mod", "uid", "gid", "myUid", "myGid", "u", "g", "o", "ug", "ret", "require_isexe", "__commonJSMin", "exports", "module", "fs", "core", "isexe", "sync", "path", "options", "cb", "resolve", "reject", "er", "is", "require_which", "__commonJSMin", "exports", "module", "isWindows", "path", "COLON", "isexe", "getNotFoundError", "cmd", "getPathInfo", "opt", "colon", "pathEnv", "pathExtExe", "pathExt", "which", "cb", "found", "step", "i", "resolve", "reject", "ppRaw", "pathPart", "pCmd", "p", "subStep", "ii", "ext", "er", "is", "res", "whichSync", "j", "cur", "require_path_key", "__commonJSMin", "exports", "module", "pathKey", "options", "environment", "key", "require_resolveCommand", "__commonJSMin", "exports", "module", "path", "which", "getPathKey", "resolveCommandAttempt", "parsed", "withoutPathExt", "env", "cwd", "hasCustomCwd", "shouldSwitchCwd", "resolved", "resolveCommand", "require_escape", "__commonJSMin", "exports", "module", "metaCharsRegExp", "escapeCommand", "arg", "escapeArgument", "doubleEscapeMetaChars", "require_shebang_regex", "__commonJSMin", "exports", "module", "require_shebang_command", "__commonJSMin", "exports", "module", "shebangRegex", "string", "match", "path", "argument", "binary", "require_readShebang", "__commonJSMin", "exports", "module", "fs", "shebangCommand", "readShebang", "command", "buffer", "fd", "require_parse", "__commonJSMin", "exports", "module", "path", "resolveCommand", "escape", "readShebang", "isWin", "isExecutableRegExp", "isCmdShimRegExp", "detectShebang", "parsed", "shebang", "parseNonShell", "commandFile", "needsShell", "needsDoubleEscapeMetaChars", "arg", "shellCommand", "parse", "command", "args", "options", "require_enoent", "__commonJSMin", "exports", "module", "isWin", "notFoundError", "original", "syscall", "hookChildProcess", "cp", "parsed", "originalEmit", "name", "arg1", "err", "verifyENOENT", "status", "verifyENOENTSync", "require_cross_spawn", "__commonJSMin", "exports", "module", "cp", "parse", "enoent", "spawn", "command", "args", "options", "parsed", "spawned", "spawnSync", "result", "require_signals", "__commonJSMin", "exports", "module", "require_signal_exit", "__commonJSMin", "exports", "module", "process", "processOk", "assert", "signals", "isWin", "EE", "emitter", "cb", "opts", "loaded", "load", "ev", "remove", "unload", "sig", "sigListeners", "originalProcessEmit", "originalProcessReallyExit", "emit", "event", "code", "signal", "listeners", "processEmit", "processReallyExit", "arg", "ret", "require_buffer_stream", "__commonJSMin", "exports", "module", "PassThroughStream", "options", "array", "encoding", "isBuffer", "objectMode", "stream", "length", "chunks", "chunk", "require_get_stream", "__commonJSMin", "exports", "module", "BufferConstants", "stream", "promisify", "bufferStream", "streamPipelinePromisified", "MaxBufferError", "getStream", "inputStream", "options", "maxBuffer", "resolve", "reject", "rejectPromise", "error", "require_merge_stream", "__commonJSMin", "exports", "module", "PassThrough", "sources", "output", "add", "isEmpty", "remove", "source", "it", "search_exports", "__export", "search_default", "__toCommonJS", "import_api", "import_api", "import_react", "import_api", "import_jsx_runtime", "CODE_BACKTICKS", "BW_CLI_INSTALLATION_DOCS_URL", "BW_CLI_HOMEBREW_DOCS_URL", "GITHUB_CREATE_ISSUE_URL", "getContent", "errorInfo", "TroubleshootingGuide", "props", "TroubleshootingGuide_default", "DEFAULT_SERVER_URL", "LOCAL_STORAGE_KEY", "ERRORS", "import_jsx_runtime", "RootErrorBoundary", "props", "error", "errorInfo", "ERRORS", "state", "TroubleshootingGuide_default", "CLINotFoundError", "message", "import_api", "import_api", "import_react", "import_api", "import_react", "import_api", "import_react", "import_api", "import_node_buffer", "import_node_path", "import_node_child_process", "import_node_process", "import_cross_spawn", "stripFinalNewline", "input", "LF", "CR", "import_node_process", "import_node_path", "import_node_url", "pathKey", "options", "env", "platform", "key", "npmRunPath", "options", "cwd", "process", "path_", "pathKey", "execPath", "previous", "cwdString", "url", "cwdPath", "path", "result", "npmRunPathEnv", "env", "copyProperty", "to", "from", "property", "ignoreNonConfigurable", "toDescriptor", "fromDescriptor", "canCopyProperty", "changePrototype", "fromPrototype", "wrappedToString", "withName", "fromBody", "toStringDescriptor", "toStringName", "changeToString", "name", "newToString", "mimicFunction", "calledFunctions", "onetime", "function_", "options", "returnValue", "callCount", "functionName", "arguments_", "mimicFunction", "onetime_default", "import_node_os", "getRealtimeSignals", "length", "SIGRTMAX", "SIGRTMIN", "getRealtimeSignal", "value", "index", "import_node_os", "SIGNALS", "getSignals", "realtimeSignals", "getRealtimeSignals", "SIGNALS", "normalizeSignal", "name", "defaultNumber", "description", "action", "forced", "standard", "constantSignal", "supported", "getSignalsByName", "signals", "getSignals", "getSignalByName", "name", "number", "description", "supported", "action", "forced", "standard", "signalsByName", "getSignalsByNumber", "length", "signalsA", "value", "getSignalByNumber", "signal", "findSignalByNumber", "signalA", "signalsByNumber", "getErrorPrefix", "timedOut", "timeout", "errorCode", "signal", "signalDescription", "exitCode", "isCanceled", "makeError", "stdout", "stderr", "all", "error", "command", "escapedCommand", "killed", "signalsByName", "execaMessage", "isError", "shortMessage", "message", "aliases", "hasAlias", "options", "alias", "normalizeStdio", "stdio", "length", "value", "index", "import_node_os", "import_signal_exit", "DEFAULT_FORCE_KILL_TIMEOUT", "spawnedKill", "kill", "signal", "options", "killResult", "setKillTimeout", "shouldForceKill", "timeout", "getForceKillAfterTimeout", "t", "forceKillAfterTimeout", "isSigterm", "os", "spawnedCancel", "spawned", "context", "timeoutKill", "reject", "setupTimeout", "killSignal", "spawnedPromise", "timeoutId", "timeoutPromise", "resolve", "safeSpawnedPromise", "validateTimeout", "setExitHandler", "cleanup", "detached", "timedPromise", "removeExitHandler", "onExit", "isStream", "stream", "import_get_stream", "import_merge_stream", "handleInput", "spawned", "input", "isStream", "makeAllStream", "all", "mixed", "mergeStream", "getBufferedData", "stream", "streamPromise", "error", "getStreamPromise", "encoding", "buffer", "maxBuffer", "getStream", "getSpawnedResult", "stdout", "stderr", "processDone", "stdoutPromise", "stderrPromise", "allPromise", "nativePromisePrototype", "descriptors", "property", "mergePromise", "spawned", "promise", "descriptor", "value", "args", "getSpawnedPromise", "resolve", "reject", "exitCode", "signal", "error", "normalizeArgs", "file", "args", "NO_ESCAPE_REGEXP", "DOUBLE_QUOTES_REGEXP", "escapeArg", "arg", "joinCommand", "getEscapedCommand", "DEFAULT_MAX_BUFFER", "getEnv", "envOption", "extendEnv", "preferLocal", "localDir", "execPath", "env", "process", "npmRunPathEnv", "handleArguments", "file", "args", "options", "parsed", "crossSpawn", "normalizeStdio", "path", "handleOutput", "value", "error", "stripFinalNewline", "execa", "command", "joinCommand", "escapedCommand", "getEscapedCommand", "validateTimeout", "spawned", "childProcess", "dummySpawned", "errorPromise", "makeError", "mergePromise", "spawnedPromise", "getSpawnedPromise", "timedPromise", "setupTimeout", "processDone", "setExitHandler", "context", "spawnedKill", "spawnedCancel", "handlePromiseOnce", "onetime_default", "exitCode", "signal", "timedOut", "stdoutResult", "stderrResult", "allResult", "getSpawnedResult", "stdout", "stderr", "all", "returnedError", "handleInput", "makeAllStream", "import_fs", "import_posix", "import_api", "import_crypto", "REPROMPT_HASH_SALT", "getPasswordGeneratingArgs", "options", "arg", "value", "hashMasterPasswordForReprompting", "password", "resolve", "reject", "REPROMPT_HASH_SALT", "error", "hashed", "import_api", "getServerUrlPreference", "serverUrl", "COMMAND_NAME_TO_PREFERENCE_KEY_MAP", "getTransientCopyPreference", "type", "preferenceKey", "transientPreference", "Bitwarden", "cliPath", "clientId", "clientSecret", "serverCertsPath", "serverUrl", "getServerUrlPreference", "CLINotFoundError", "LOCAL_STORAGE_KEY", "toast", "DEFAULT_SERVER_URL", "error", "reason", "args", "options", "abortController", "input", "skipLastActivityUpdate", "result", "execa", "sessionToken", "stdout", "item", "id", "password", "getPasswordGeneratingArgs", "import_jsx_runtime", "BitwardenContext", "BitwardenProvider", "props", "children", "bitwarden", "setBitwarden", "Bitwarden", "useBitwarden", "session", "isObject", "obj", "treatError", "error", "options", "execaError", "errorString", "isObject", "omitSensitiveValueFromString", "value", "sensitiveValue", "import_api", "import_react", "useVaultMessages", "bitwarden", "useBitwarden", "vaultState", "setVaultState", "shouldShowServer", "getServerUrlPreference", "userMessage", "serverMessage", "status", "userEmail", "serverUrl", "closeExtension", "useVaultMessages_default", "import_jsx_runtime", "UnlockForm", "props", "onUnlock", "bitwarden", "useBitwarden", "isLoading", "setLoading", "userMessage", "serverMessage", "shouldShowServer", "useVaultMessages_default", "lockReasonRef", "unlockError", "setUnlockError", "onSubmit", "password", "toast", "error", "displayableError", "treatedError", "getUsefulError", "sessionToken", "passwordHash", "hashMasterPasswordForReprompting", "copyUnlockError", "treatError", "UnlockForm_default", "import_jsx_runtime", "SessionContext", "initialState", "ShouldLockVaultError", "message", "SessionProvider", "props", "unlock", "children", "bitwarden", "useBitwarden", "state", "setState", "previous", "next", "active", "loadSavedSession", "vaultTimeoutMs", "token", "passwordHash", "lastActivityTimeString", "LOCAL_STORAGE_KEY", "lastActivityTime", "lockReason", "timeElapseSinceLastPasswordEnter", "update", "error", "reason", "status", "deleteToken", "getSessionStatus", "api", "newState", "updatedState", "handleUnlock", "lockVault", "toast", "logoutVault", "confirmMasterPassword", "password", "hashMasterPasswordForReprompting", "value", "needsUnlockForm", "UnlockForm_default", "useSession", "session", "import_api", "import_react", "import_jsx_runtime", "VaultContext", "initialState", "VaultProvider", "children", "session", "useSession", "bitwarden", "useBitwarden", "state", "setState", "previous", "next", "isEmpty", "isLoading", "loadItems", "sessionToken", "folders", "items", "favoriteItemsFirstSorter", "syncItems", "toast", "memoizedValue", "a", "b", "useVault", "context", "import_jsx_runtime", "SearchCommonActions", "vault", "useVault", "session", "useSession", "handleLockVault", "CommonActions_default", "import_api", "import_react", "import_api", "import_react", "import_jsx_runtime", "ComponentReverser", "props", "children", "ComponentReverser_default", "import_react", "VaultItemContext", "useSelectedVaultItem", "session", "vaultItem_default", "import_api", "import_api", "import_api", "import_api", "import_jsx_runtime", "RepromptForm", "props", "description", "onConfirm", "onSubmit", "values", "RepromptForm_default", "import_jsx_runtime", "useReprompt", "action", "options", "description", "session", "useSession", "push", "pop", "handleConfirm", "password", "RepromptForm_default", "useReprompt_default", "import_jsx_runtime", "ActionWithReprompt", "props", "repromptDescription", "onAction", "componentProps", "reprompt", "useSelectedVaultItem", "repromptAndPerformAction", "useReprompt_default", "ActionWithReprompt_default", "import_jsx_runtime", "CopyPasswordAction", "login", "name", "useSelectedVaultItem", "password", "copyPassword", "getTransientCopyPreference", "ActionWithReprompt_default", "CopyPasswordAction_default", "import_api", "import_jsx_runtime", "PastePasswordAction", "login", "name", "useSelectedVaultItem", "password", "pastePassword", "ActionWithReprompt_default", "PastePasswordAction_default", "import_api", "import_jsx_runtime", "CopyTotpAction", "id", "name", "login", "useSelectedVaultItem", "bitwarden", "useBitwarden", "session", "useSession", "copyTotp", "toast", "totp", "getTransientCopyPreference", "ActionWithReprompt_default", "CopyTotpAction_default", "import_api", "capitalize", "value", "codeBlock", "content", "import_jsx_runtime", "ShowSecureNoteAction", "notes", "name", "useSelectedVaultItem", "push", "showSecureNote", "codeBlock", "getTransientCopyPreference", "ActionWithReprompt_default", "ShowSecureNoteAction_default", "import_api", "import_jsx_runtime", "CopyUsernameAction", "login", "useSelectedVaultItem", "username", "getTransientCopyPreference", "CopyUsernameAction_default", "import_api", "import_jsx_runtime", "CopyTextFieldsActions", "login", "notes", "card", "identity", "fields", "name", "useSelectedVaultItem", "fieldMap", "field", "uriMap", "uri", "index", "onRepromptAction", "content", "getTransientCopyPreference", "title", "capitalizedTitle", "capitalize", "ActionWithReprompt_default", "CopyTextFieldsActions_default", "import_api", "import_jsx_runtime", "OpenUrlInBrowserAction", "login", "useSelectedVaultItem", "mainUri", "OpenUrlInBrowserAction_default", "import_api", "MONTH_NUMBER_TO_LABEL_MAP", "CARD_MAPPER", "value", "CARD_KEY_LABEL", "getCardValue", "key", "getCardDetailsMarkdown", "card", "getCardDetailsCopyValue", "import_jsx_runtime", "ShowCardDetailsAction", "push", "card", "name", "useSelectedVaultItem", "showCardDetails", "getCardDetailsMarkdown", "getCardDetailsCopyValue", "getTransientCopyPreference", "ActionWithReprompt_default", "ShowCardDetailsAction_default", "import_jsx_runtime", "primaryAction", "VaultItemActionPanel", "login", "card", "useSelectedVaultItem", "ComponentReverser_default", "PastePasswordAction_default", "CopyPasswordAction_default", "CopyTotpAction_default", "CopyUsernameAction_default", "OpenUrlInBrowserAction_default", "ShowCardDetailsAction_default", "ShowSecureNoteAction_default", "CopyTextFieldsActions_default", "CommonActions_default", "ItemActionPanel_default", "import_api", "import_url", "extractKeywords", "item", "keywords", "brand", "number", "isAmex", "uri", "keyword", "faviconUrl", "url", "import_jsx_runtime", "fetchFavicons", "VaultItem", "props", "item", "folder", "keywords", "extractKeywords", "vaultItem_default", "getAccessories", "getIcon", "ItemActionPanel_default", "ITEM_TYPE_TO_ICON_MAP", "iconUri", "faviconUrl", "accessories", "Item_default", "import_jsx_runtime", "SearchVaultCommand", "RootErrorBoundary", "BitwardenProvider", "SessionProvider", "VaultProvider", "SearchVaultComponent", "items", "folders", "isLoading", "isEmpty", "useVault", "item", "Item_default", "getItemFolder", "CommonActions_default", "folderList", "folder", "search_default"]
}
